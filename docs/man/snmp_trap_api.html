<!--#set var="section" value="documentation" -->
<!--#include virtual="/page-top.html" -->
<!-- CONTENT START -->
    <h1>SNMP_TRAP_API</h1>Section: Net-SNMP (3)<br />
    Updated: 7 Mar 2002<br />
    <a href="#index">Index</a> <a href="../index.html">Return to Main Contents</a>
    <hr />
    <a name="lbAB" id="lbAB">&nbsp;</a>

    <h2>NAME</h2>send_easy_trap, send_trap_vars, send_v2trap - send TRAPs or INFORMs from a Net-SNMP MIB module <a name="lbAC"
    id="lbAC">&nbsp;</a>

    <h2>SYNOPSIS</h2><b>#include &lt;<a href=
    "file:/usr/include/net-snmp/agent/agent_trap.h">net-snmp/agent/agent_trap.h</a>&gt;</b>

    <p><b>void send_easy_trap(int</b> <i>trap</i><b>, int</b> <i>specific</i><b>);</b></p>

    <p><b>void send_trap_vars(int</b> <i>trap</i><b>, int</b> <i>specific</i><b>, struct variable_list
    *</b><i>vars</i><b>);</b></p>

    <p><b>void send_v2trap(struct variable_list *</b><i>vars</i><b>);</b> <a name="lbAD" id="lbAD">&nbsp;</a></p>

    <h2>DESCRIPTION</h2>These three routines may be used to send traps from a MIB module within the Net-SNMP agent (including an
    AgentX subagent).

    <p><b>send_easy_trap()</b> sends an SNMPv1 trap (or the SNMPv2 equivalent) to the list of configured trap destinations (or
    "sinks"), using the provided values for the generic trap type, and specific trap value.</p>

    <p><b>send_trap_vars()</b> is similar, but appends the supplied list of variable bindings to the traps that are sent.</p>

    <p><b>send_v2trap()</b> uses the supplied list of variable bindings to form an SNMPv2 trap, which is sent to SNMPv2-capable
    sinks on the configured list. An equivalent INFORM is sent to the configuredq list of inform sinks. Sinks that can only
    handle SNMPv1 traps are skipped.</p>

    <p>The various "send_trap()" calls allow you to specify traps in different formats. And the various "trapsink" directives
    allow you to specify destinations to receive different formats. But *all* traps are sent to *all* destinations, regardless of
    how they were specified.</p>
    <pre>
I.e. it's
                                         ___  trapsink
                                        /
    send_easy_trap ___  [  Trap      ] ____  trap2sink
                    ___  [ Generator  ]
    send_v2trap    /     [            ] ----- informsink
                                        ____
                                              trapsess

*Not*
     send_easy_trap  -------------------&gt;  trapsink
     send_v2trap     -------------------&gt;  trap2sink
     ????            -------------------&gt;  informsink
     ????            -------------------&gt;  trapsess
</pre><a name="lbAE" id="lbAE">&nbsp;</a>

    <h2>WARNINGS</h2>These routines are used to send the traps immediately they are called. Invoking them at the appropriate time
    is left to the MIB module programmer. <a name="lbAF" id="lbAF">&nbsp;</a>

    <h2>SEE ALSO</h2><b><a href="snmpd.conf.html">snmpd.conf</a></b>(5), <b><a href="snmptrapd.html">snmptrapd</a></b>(8)
    <hr />
    <a name="index" id="index">&nbsp;</a>

    <h2>Index</h2>

    <dl>
      <dt><a href="#lbAB">NAME</a></dt>

      <dt><a href="#lbAC">SYNOPSIS</a></dt>

      <dt><a href="#lbAD">DESCRIPTION</a></dt>

      <dt><a href="#lbAE">WARNINGS</a></dt>

      <dt><a href="#lbAF">SEE ALSO</a></dt>
    </dl>
    <hr />
    This document was created by <a href="http://localhost/cgi-bin/man/man2html">man2html</a>, using the manual pages.<br />
    Time: 13:12:01 GMT, September 23, 2007
<!-- CONTENT END -->
<!--#include virtual="/page-bottom.html" -->

