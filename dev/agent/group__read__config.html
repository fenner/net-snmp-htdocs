<!--#set var="section" value="development" -->
<!--#include virtual="/page-top.html" -->
<!-- CONTENT START -->
  <!-- Generated by Doxygen 1.3.9.1 -->

  <div class="qindex">
    <a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class=
    "qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class=
    "qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class=
    "qindex" href="examples.html">Examples</a>
  </div>

  <h1>parsing various configuration files at run time<br />
  <small>[<a class="el" href="group__library.html">The Net-SNMP library</a>]</small></h1>The read_config related functions are a
  fairly extensible system of parsing various configuration files at the run time. <a href="#_details">More...</a>

  <table border="0" cellpadding="0" cellspacing="0">
    <tr>
      <td></td>
    </tr>

    <tr>
      <td colspan="2">
        <br />

        <h2>Defines</h2>
      </td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga56" doxytag=
      "read_config::SNMP_CONFIG_DELIMETERS" id="ga56"></a> #define&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>SNMP_CONFIG_DELIMETERS</b>&nbsp;&nbsp;&nbsp;" \t="</td>
    </tr>

    <tr>
      <td colspan="2">
        <br />

        <h2>Functions</h2>
      </td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga6" doxytag=
      "read_config::register_prenetsnmp_mib_handler" id="ga6"></a> config_line *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>register_prenetsnmp_mib_handler</b> (const char *type, const char *token,
      void(*parser)(const char *, char *), void(*releaser)(void), const char *help)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga7" doxytag=
      "read_config::register_app_prenetsnmp_mib_handler" id="ga7"></a> config_line *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>register_app_prenetsnmp_mib_handler</b> (const char *token, void(*parser)(const
      char *, char *), void(*releaser)(void), const char *help)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top">config_line *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><a class="el" href="group__read__config.html#ga8">register_config_handler</a>
      (const char *type_param, const char *token, void(*parser)(const char *, char *), void(*releaser)(void), const char
      *help)</td>
    </tr>

    <tr>
      <td class="mdescLeft">&nbsp;</td>

      <td class="mdescRight">register_config_handler registers handlers for certain tokens specified in certain types of files.
      <a href="#ga8"></a><br /></td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga9" doxytag=
      "read_config::register_app_config_handler" id="ga9"></a> config_line *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>register_app_config_handler</b> (const char *token, void(*parser)(const char *,
      char *), void(*releaser)(void), const char *help)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top">void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><a class="el" href="group__read__config.html#ga10">unregister_config_handler</a>
      (const char *type_param, const char *token)</td>
    </tr>

    <tr>
      <td class="mdescLeft">&nbsp;</td>

      <td class="mdescRight">uregister_config_handler un-registers handlers given a specific type_param and token. <a href=
      "#ga10"></a><br /></td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga11" doxytag=
      "read_config::unregister_app_config_handler" id="ga11"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>unregister_app_config_handler</b> (const char *token)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga12" doxytag=
      "read_config::unregister_all_config_handlers" id="ga12"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>unregister_all_config_handlers</b> ()</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga13" doxytag=
      "read_config::read_config_get_handlers" id="ga13"></a> config_line *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>read_config_get_handlers</b> (const char *type)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga14" doxytag=
      "read_config::read_config_with_type" id="ga14"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>read_config_with_type</b> (const char *filename, const char *type)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga15" doxytag=
      "read_config::read_config_find_handler" id="ga15"></a> config_line *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>read_config_find_handler</b> (struct config_line *line_handlers, const char
      *token)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga16" doxytag=
      "read_config::run_config_handler" id="ga16"></a> int&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>run_config_handler</b> (struct config_line *lptr, const char *token, char
      *cptr, int when)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga17" doxytag=
      "read_config::snmp_config_when" id="ga17"></a> int&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>snmp_config_when</b> (char *line, int when)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga18" doxytag=
      "read_config::netsnmp_config" id="ga18"></a> int&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>netsnmp_config</b> (char *line)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga19" doxytag=
      "read_config::netsnmp_config_remember_in_list" id="ga19"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>netsnmp_config_remember_in_list</b> (char *line, struct read_config_memory
      **mem)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga20" doxytag=
      "read_config::netsnmp_config_remember_free_list" id="ga20"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>netsnmp_config_remember_free_list</b> (struct read_config_memory **mem)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga21" doxytag=
      "read_config::netsnmp_config_process_memory_list" id="ga21"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>netsnmp_config_process_memory_list</b> (struct read_config_memory **memp, int
      when, int clear)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga22" doxytag=
      "read_config::netsnmp_config_remember" id="ga22"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>netsnmp_config_remember</b> (char *line)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga23" doxytag=
      "read_config::netsnmp_config_process_memories" id="ga23"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>netsnmp_config_process_memories</b> (void)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga24" doxytag=
      "read_config::netsnmp_config_process_memories_when" id="ga24"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>netsnmp_config_process_memories_when</b> (int when, int clear)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga25" doxytag=
      "read_config::read_config" id="ga25"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>read_config</b> (const char *filename, struct config_line *line_handler, int
      when)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga26" doxytag=
      "read_config::free_config" id="ga26"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>free_config</b> (void)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga27" doxytag=
      "read_config::read_configs" id="ga27"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>read_configs</b> (void)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga28" doxytag=
      "read_config::read_premib_configs" id="ga28"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>read_premib_configs</b> (void)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga29" doxytag=
      "read_config::set_configuration_directory" id="ga29"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>set_configuration_directory</b> (const char *dir)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga30" doxytag=
      "read_config::get_configuration_directory" id="ga30"></a> const char *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>get_configuration_directory</b> ()</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga31" doxytag=
      "read_config::set_persistent_directory" id="ga31"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>set_persistent_directory</b> (const char *dir)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga32" doxytag=
      "read_config::get_persistent_directory" id="ga32"></a> const char *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>get_persistent_directory</b> ()</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga33" doxytag=
      "read_config::set_temp_file_pattern" id="ga33"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>set_temp_file_pattern</b> (const char *pattern)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga34" doxytag=
      "read_config::get_temp_file_pattern" id="ga34"></a> const char *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>get_temp_file_pattern</b> ()</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga35" doxytag=
      "read_config::read_config_files" id="ga35"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>read_config_files</b> (int when)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga36" doxytag=
      "read_config::read_config_print_usage" id="ga36"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>read_config_print_usage</b> (const char *lead)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top">void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><a class="el" href="group__read__config.html#ga37">read_config_store</a> (const
      char *type, const char *line)</td>
    </tr>

    <tr>
      <td class="mdescLeft">&nbsp;</td>

      <td class="mdescRight">read_config_store intended for use by applications to store permenant configuration information
      generated by sets or persistent counters. <a href="#ga37"></a><br /></td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga38" doxytag=
      "read_config::read_app_config_store" id="ga38"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>read_app_config_store</b> (const char *line)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga39" doxytag=
      "read_config::snmp_save_persistent" id="ga39"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>snmp_save_persistent</b> (const char *type)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga40" doxytag=
      "read_config::snmp_clean_persistent" id="ga40"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>snmp_clean_persistent</b> (const char *type)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga41" doxytag=
      "read_config::config_perror" id="ga41"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>config_perror</b> (const char *string)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga42" doxytag=
      "read_config::config_pwarn" id="ga42"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>config_pwarn</b> (const char *string)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga43" doxytag=
      "read_config::skip_white" id="ga43"></a> char *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>skip_white</b> (char *ptr)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga44" doxytag=
      "read_config::skip_not_white" id="ga44"></a> char *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>skip_not_white</b> (char *ptr)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga45" doxytag=
      "read_config::skip_token" id="ga45"></a> char *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>skip_token</b> (char *ptr)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga46" doxytag=
      "read_config::copy_nword" id="ga46"></a> char *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>copy_nword</b> (char *from, char *to, int len)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga47" doxytag=
      "read_config::copy_word" id="ga47"></a> char *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>copy_word</b> (char *from, char *to)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga48" doxytag=
      "read_config::read_config_save_octet_string" id="ga48"></a> char *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>read_config_save_octet_string</b> (char *saveto, u_char *str, size_t len)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga49" doxytag=
      "read_config::read_config_read_octet_string" id="ga49"></a> char *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>read_config_read_octet_string</b> (char *readfrom, u_char **str, size_t
      *len)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga50" doxytag=
      "read_config::read_config_save_objid" id="ga50"></a> char *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>read_config_save_objid</b> (char *saveto, oid *objid, size_t len)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga51" doxytag=
      "read_config::read_config_read_objid" id="ga51"></a> char *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>read_config_read_objid</b> (char *readfrom, oid **objid, size_t *len)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top">char *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><a class="el" href="group__read__config.html#ga52">read_config_read_data</a> (int
      type, char *readfrom, void *dataptr, size_t *len)</td>
    </tr>

    <tr>
      <td class="mdescLeft">&nbsp;</td>

      <td class="mdescRight">read_config_read_data reads data of a given type from a token(s) on a configuration line. <a href=
      "#ga52"></a><br /></td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga53" doxytag=
      "read_config::read_config_read_memory" id="ga53"></a> char *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>read_config_read_memory</b> (int type, char *readfrom, char *dataptr, size_t
      *len)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top">char *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><a class="el" href="group__read__config.html#ga54">read_config_store_data</a> (int
      type, char *storeto, void *dataptr, size_t *len)</td>
    </tr>

    <tr>
      <td class="mdescLeft">&nbsp;</td>

      <td class="mdescRight">read_config_store_data stores data of a given type to a configuration line into the storeto buffer.
      <a href="#ga54"></a><br /></td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga55" doxytag=
      "read_config::read_config_store_data_prefix" id="ga55"></a> char *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>read_config_store_data_prefix</b> (char prefix, int type, char *storeto, void
      *dataptr, size_t len)</td>
    </tr>

    <tr>
      <td colspan="2">
        <br />

        <h2>Variables</h2>
      </td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga1" doxytag=
      "read_config::config_files" id="ga1"></a> config_files *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>config_files</b> = NULL</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga2" doxytag=
      "read_config::linecount" id="ga2"></a> int&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>linecount</b></td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga3" doxytag=
      "read_config::curfilename" id="ga3"></a> const char *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>curfilename</b></td>
    </tr>
  </table>
  <hr />
  <a name="_details" id="_details"></a>

  <h2>Detailed Description</h2>The read_config related functions are a fairly extensible system of parsing various configuration
  files at the run time.

  <p>The idea is that the calling application is able to register handlers for certain tokens specified in certain types of
  files. The read_configs function can then be called to look for all the files that it has registrations for, find the first
  word on each line, and pass the remainder to the appropriately registered handler.</p>

  <p>For persistent configuration storage you will need to use the read_config_read_data, read_config_store, and
  read_config_store_data APIs in conjunction with first registering a callback so when the agent shutsdown for whatever reason
  data is written to your configuration files. The following explains in more detail the sequence to make this happen.</p>

  <p>This is the callback registration API, you need to call this API with the appropriate parameters in order to configure
  persistent storage needs.</p>

  <p>int snmp_register_callback(int major, int minor, SNMPCallback *new_callback, void *arg);</p>

  <p>You will need to set major to SNMP_CALLBACK_LIBRARY, minor to SNMP_CALLBACK_STORE_DATA. arg is whatever you want.</p>

  <p>Your callback function's prototype is: int (SNMPCallback) (int majorID, int minorID, void *serverarg, void *clientarg);</p>

  <p>The majorID, minorID and clientarg are what you passed in the callback registration above. When the callback is called you
  have to essentially transfer all your state from memory to disk. You do this by generating configuration lines into a buffer.
  The lines are of the form token followed by token parameters.</p>

  <p>Finally storing is done using read_config_store(type, buffer); type is the application name this can be obtained from:</p>

  <p>netsnmp_ds_get_string(NETSNMP_DS_LIBRARY_ID, NETSNMP_DS_LIB_APPTYPE);</p>

  <p>Now, reading back the data: This is done by registering a config handler for your token using the register_config_handler
  function. Your handler will be invoked and you can parse in the data using the read_config_read APIs.</p>
  <hr />

  <h2>Function Documentation</h2><a class="anchor" name="ga52" doxytag="read_config.c::read_config_read_data" id="ga52"></a>

  <table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
    <tr>
      <td class="mdRow">
        <table cellpadding="0" cellspacing="0" border="0">
          <tr>
            <td class="md" nowrap="nowrap" valign="top">char* read_config_read_data</td>

            <td class="md" valign="top">(&nbsp;</td>

            <td class="md" nowrap="nowrap" valign="top">int&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>type</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">char *&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>readfrom</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">void *&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>dataptr</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">size_t *&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>len</em></td>
          </tr>

          <tr>
            <td class="md"></td>

            <td class="md">)&nbsp;</td>

            <td class="md" colspan="2"></td>
          </tr>
        </table>
      </td>
    </tr>
  </table>

  <table cellspacing="5" cellpadding="0" border="0">
    <tr>
      <td>&nbsp;</td>

      <td>
        <p>read_config_read_data reads data of a given type from a token(s) on a configuration line.</p>

        <p>The supported types are:</p>

        <ul>
          <li>ASN_INTEGER</li>

          <li>ASN_TIMETICKS</li>

          <li>ASN_UNSIGNED</li>

          <li>ASN_OCTET_STR</li>

          <li>ASN_BIT_STR</li>

          <li>ASN_OBJECT_ID</li>
        </ul>

        <dl compact="compact">
          <dt><b>Parameters:</b></dt>

          <dd>
            <table border="0" cellspacing="2" cellpadding="0">
              <tr>
                <td valign="top"></td>

                <td valign="top"><em>type</em>&nbsp;</td>

                <td>the asn data type to be read in.</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>readform</em>&nbsp;</td>

                <td>the configuration line data to be read.</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>dataptr</em>&nbsp;</td>

                <td>an allocated pointer expected to match the type being read (int *, u_int *, char **, oid **)</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>len</em>&nbsp;</td>

                <td>is the length of an asn oid or octet/bit string, not required for the asn integer, unsigned integer, and
                timeticks types</td>
              </tr>
            </table>
          </dd>
        </dl>

        <dl compact="compact">
          <dt><b>Returns:</b></dt>

          <dd>the next token in the configuration line. NULL if none left or if an unknown type.</dd>
        </dl>

        <p>Definition at line <a class="el" href="read__config_8c-source.html#l01722">1722</a> of file <a class="el" href=
        "read__config_8c-source.html">read_config.c</a>.</p>

        <p>Referenced by <a class="el" href="data__list_8c-source.html#l00321">netsnmp_read_data_callback()</a>.</p>
      </td>
    </tr>
  </table><a class="anchor" name="ga37" doxytag="read_config.c::read_config_store" id="ga37"></a>

  <table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
    <tr>
      <td class="mdRow">
        <table cellpadding="0" cellspacing="0" border="0">
          <tr>
            <td class="md" nowrap="nowrap" valign="top">void read_config_store</td>

            <td class="md" valign="top">(&nbsp;</td>

            <td class="md" nowrap="nowrap" valign="top">const char *&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>type</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">const char *&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>line</em></td>
          </tr>

          <tr>
            <td class="md"></td>

            <td class="md">)&nbsp;</td>

            <td class="md" colspan="2"></td>
          </tr>
        </table>
      </td>
    </tr>
  </table>

  <table cellspacing="5" cellpadding="0" border="0">
    <tr>
      <td>&nbsp;</td>

      <td>
        <p>read_config_store intended for use by applications to store permenant configuration information generated by sets or
        persistent counters.</p>

        <p>Appends line to a file named either ENV(SNMP_PERSISTENT_FILE) or "&lt;PERSISTENT_DIRECTORY&gt;/&lt;type&gt;.conf".
        Adds a trailing newline to the stored file if necessary.</p>

        <dl compact="compact">
          <dt><b>Parameters:</b></dt>

          <dd>
            <table border="0" cellspacing="2" cellpadding="0">
              <tr>
                <td valign="top"></td>

                <td valign="top"><em>type</em>&nbsp;</td>

                <td>is the application name</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>line</em>&nbsp;</td>

                <td>is the configuration line written to the application name's configuration file</td>
              </tr>
            </table>
          </dd>
        </dl>

        <dl compact="compact">
          <dt><b>Returns:</b></dt>

          <dd>void</dd>
        </dl>

        <p>Definition at line <a class="el" href="read__config_8c-source.html#l01181">1181</a> of file <a class="el" href=
        "read__config_8c-source.html">read_config.c</a>.</p>

        <p>References <a class="el" href="tools_8c-source.html#l00922">netsnmp_getenv()</a>, and <a class="el" href=
        "snmp__logging_8c-source.html#l01137">snmp_log()</a>.</p>

        <p>Referenced by <a class="el" href="oid__stash_8c-source.html#l00332">netsnmp_oid_stash_store()</a>, and <a class="el"
        href="data__list_8c-source.html#l00286">netsnmp_save_all_data()</a>.</p>
      </td>
    </tr>
  </table><a class="anchor" name="ga54" doxytag="read_config.c::read_config_store_data" id="ga54"></a>

  <table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
    <tr>
      <td class="mdRow">
        <table cellpadding="0" cellspacing="0" border="0">
          <tr>
            <td class="md" nowrap="nowrap" valign="top">char* read_config_store_data</td>

            <td class="md" valign="top">(&nbsp;</td>

            <td class="md" nowrap="nowrap" valign="top">int&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>type</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">char *&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>storeto</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">void *&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>dataptr</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">size_t *&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>len</em></td>
          </tr>

          <tr>
            <td class="md"></td>

            <td class="md">)&nbsp;</td>

            <td class="md" colspan="2"></td>
          </tr>
        </table>
      </td>
    </tr>
  </table>

  <table cellspacing="5" cellpadding="0" border="0">
    <tr>
      <td>&nbsp;</td>

      <td>
        <p>read_config_store_data stores data of a given type to a configuration line into the storeto buffer.</p>

        <p>Calls read_config_store_data_prefix with the prefix parameter set to a char space. The supported types are:</p>

        <ul>
          <li>ASN_INTEGER</li>

          <li>ASN_TIMETICKS</li>

          <li>ASN_UNSIGNED</li>

          <li>ASN_OCTET_STR</li>

          <li>ASN_BIT_STR</li>

          <li>ASN_OBJECT_ID</li>
        </ul>

        <dl compact="compact">
          <dt><b>Parameters:</b></dt>

          <dd>
            <table border="0" cellspacing="2" cellpadding="0">
              <tr>
                <td valign="top"></td>

                <td valign="top"><em>type</em>&nbsp;</td>

                <td>the asn data type to be stored</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>storeto</em>&nbsp;</td>

                <td>a pre-allocated char buffer which will contain the data to be stored</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>dataptr</em>&nbsp;</td>

                <td>contains the value to be stored, the supported pointers: (int *, u_int *, char **, oid **)</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>len</em>&nbsp;</td>

                <td>is the length of the pre-allocated storeto buffer, not required for the asn integer, unsigned integer, and
                timeticks types.</td>
              </tr>
            </table>
          </dd>
        </dl>

        <dl compact="compact">
          <dt><b>Returns:</b></dt>

          <dd>character pointer to the end of the line. NULL if an unknown type.</dd>
        </dl>

        <p>Definition at line <a class="el" href="read__config_8c-source.html#l01850">1850</a> of file <a class="el" href=
        "read__config_8c-source.html">read_config.c</a>.</p>
      </td>
    </tr>
  </table><a class="anchor" name="ga8" doxytag="read_config.c::register_config_handler" id="ga8"></a>

  <table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
    <tr>
      <td class="mdRow">
        <table cellpadding="0" cellspacing="0" border="0">
          <tr>
            <td class="md" nowrap="nowrap" valign="top">struct config_line* register_config_handler</td>

            <td class="md" valign="top">(&nbsp;</td>

            <td class="md" nowrap="nowrap" valign="top">const char *&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>type_param</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">const char *&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>token</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">void(*)(const char *, char *)&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>parser</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">void(*)(void)&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>releaser</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">const char *&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>help</em></td>
          </tr>

          <tr>
            <td class="md"></td>

            <td class="md">)&nbsp;</td>

            <td class="md" colspan="2"></td>
          </tr>
        </table>
      </td>
    </tr>
  </table>

  <table cellspacing="5" cellpadding="0" border="0">
    <tr>
      <td>&nbsp;</td>

      <td>
        <p>register_config_handler registers handlers for certain tokens specified in certain types of files.</p>

        <p>Allows a module writer use/register multiple configuration files based off of the type parameter. A module writer may
        want to set up multiple configuration files to separate out related tasks/variables or just for management of where to
        put tokens as the module or modules get more complex in regard to handling token registrations.</p>

        <dl compact="compact">
          <dt><b>Parameters:</b></dt>

          <dd>
            <table border="0" cellspacing="2" cellpadding="0">
              <tr>
                <td valign="top"></td>

                <td valign="top"><em>type</em>&nbsp;</td>

                <td>the configuration file used, e.g., if snmp.conf is the file where the token is located use "snmp" here. If
                NULL the configuration file used will be snmpd.conf.</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>token</em>&nbsp;</td>

                <td>the token being parsed from the file. Must be non-NULL.</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>parser</em>&nbsp;</td>

                <td>the handler function pointer that use the specified token and the rest of the line to do whatever is required
                Should be non-NULL in order to make use of this API.</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>releaser</em>&nbsp;</td>

                <td>if non-NULL, the function specified is called if and when the configuration files are re-read. This function
                should free any resources allocated by the token handler function.</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>help</em>&nbsp;</td>

                <td>if non-NULL, used to display help information on the expected arguments after the token.</td>
              </tr>
            </table>
          </dd>
        </dl>

        <dl compact="compact">
          <dt><b>Returns:</b></dt>

          <dd>Pointer to a new config line entry or NULL on error.</dd>
        </dl>

        <p>Definition at line <a class="el" href="read__config_8c-source.html#l00196">196</a> of file <a class="el" href=
        "read__config_8c-source.html">read_config.c</a>.</p>

        <p>Referenced by <a class="el" href="data__list_8c-source.html#l00220">netsnmp_register_save_list()</a>.</p>
      </td>
    </tr>
  </table><a class="anchor" name="ga10" doxytag="read_config.c::unregister_config_handler" id="ga10"></a>

  <table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
    <tr>
      <td class="mdRow">
        <table cellpadding="0" cellspacing="0" border="0">
          <tr>
            <td class="md" nowrap="nowrap" valign="top">void unregister_config_handler</td>

            <td class="md" valign="top">(&nbsp;</td>

            <td class="md" nowrap="nowrap" valign="top">const char *&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>type_param</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">const char *&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>token</em></td>
          </tr>

          <tr>
            <td class="md"></td>

            <td class="md">)&nbsp;</td>

            <td class="md" colspan="2"></td>
          </tr>
        </table>
      </td>
    </tr>
  </table>

  <table cellspacing="5" cellpadding="0" border="0">
    <tr>
      <td>&nbsp;</td>

      <td>
        <p>uregister_config_handler un-registers handlers given a specific type_param and token.</p>

        <dl compact="compact">
          <dt><b>Parameters:</b></dt>

          <dd>
            <table border="0" cellspacing="2" cellpadding="0">
              <tr>
                <td valign="top"></td>

                <td valign="top"><em>type_param</em>&nbsp;</td>

                <td>the configuration file used where the token is located. Used to lookup the config file entry</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>token</em>&nbsp;</td>

                <td>the token that is being unregistered</td>
              </tr>
            </table>
          </dd>
        </dl>

        <dl compact="compact">
          <dt><b>Returns:</b></dt>

          <dd>void</dd>
        </dl>

        <p>Definition at line <a class="el" href="read__config_8c-source.html#l00301">301</a> of file <a class="el" href=
        "read__config_8c-source.html">read_config.c</a>.</p>

        <p>References <a class="el" href="tools_8h-source.html#l00053">SNMP_FREE</a>.</p>
      </td>
    </tr>
  </table>
  <hr size="1" />

  <address style="align: right;">
    <small><!--#include virtual="/sfbutton.html" --><br />
    Generated on Thu Nov 25 17:51:44 2004 for net-snmp by&nbsp; <a href="http://www.doxygen.org/index.html"><img src=
    "doxygen.png" alt="doxygen" align="middle" border="0" /></a> 1.3.9.1</small>
  </address>
<!-- CONTENT END -->
<!--#include virtual="/page-bottom.html" -->

