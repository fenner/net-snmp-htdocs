<!--#set var="section" value="development" -->
<!--#include virtual="/page-top.html" -->
<!-- CONTENT START -->
  <!-- Generated by Doxygen 1.3.9.1 -->

  <div class="qindex">
    <a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class=
    "qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class=
    "qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class=
    "qindex" href="examples.html">Examples</a>
  </div>

  <div class="nav">
    <a class="el" href="dir_000000.html">include</a>&nbsp;/&nbsp;<a class="el" href=
    "dir_000001.html">net-snmp</a>&nbsp;/&nbsp;<a class="el" href="dir_000002.html">agent</a>
  </div>

  <h1>table_tdata.h</h1>

  <div class="fragment">
    <pre class="fragment">
00001 <span class="comment">/*</span>
00002 <span class="comment"> * table_tdata.h </span>
00003 <span class="comment"> */</span>
00004 <span class="preprocessor">#ifndef _TABLE_TDATA_HANDLER_H_</span>
00005 <span class="preprocessor">#define _TABLE_TDATA_HANDLER_H_</span>
00006 
00007 <span class="preprocessor">#ifdef __cplusplus</span>
00008 <span class="keyword">extern</span>          <span class="stringliteral">"C"</span> {
00009 <span class="preprocessor">#endif</span>
00010 
00011     <span class="comment">/*</span>
00012 <span class="comment">     * This helper is designed to completely automate the task of storing</span>
00013 <span class="comment">     * tables of data within the agent that are not tied to external data</span>
00014 <span class="comment">     * sources (like the kernel, hardware, or other processes, etc).  IE,</span>
00015 <span class="comment">     * all rows within a table are expected to be added manually using</span>
00016 <span class="comment">     * functions found below.</span>
00017 <span class="comment">     */</span>
00018 
00019 <span class="preprocessor">#define TABLE_TDATA_NAME  "table_tdata"</span>
00020 <span class="preprocessor">#define TABLE_TDATA_ROW   "table_tdata"</span>
00021 <span class="preprocessor">#define TABLE_TDATA_TABLE "table_tdata_table"</span>
00022 
00023 <span class="preprocessor">#define TDATA_FLAG_NO_STORE_INDEXES   0x01</span>
00024 
00025     <span class="comment">/*</span>
00026 <span class="comment">     * The (table-independent) per-row data structure</span>
00027 <span class="comment">     * This is a wrapper round the table-specific per-row data</span>
00028 <span class="comment">     *   structure, which is referred to as a "table entry"</span>
00029 <span class="comment">     *</span>
00030 <span class="comment">     * It should be regarded as an opaque, private data structure,</span>
00031 <span class="comment">     *   and shouldn't be accessed directly.</span>
00032 <span class="comment">     */</span>
00033     <span class="keyword">typedef</span> <span class="keyword">struct </span>netsnmp_tdata_row_s {
00034         netsnmp_index   oid_index;      <span class="comment">/* table_container index format */</span>
00035         <a class="code" href="structvariable__list.html">netsnmp_variable_list</a> *indexes; <span class=
"comment">/* stored permanently if store_indexes = 1 */</span>
00036         <span class="keywordtype">void</span>           *data;   <span class="comment">/* the data to store */</span>
00037     } netsnmp_tdata_row;
00038 
00039     <span class="comment">/*</span>
00040 <span class="comment">     * The data structure to hold a complete table.</span>
00041 <span class="comment">     *</span>
00042 <span class="comment">     * This should be regarded as an opaque, private data structure,</span>
00043 <span class="comment">     *   and shouldn't be accessed directly.</span>
00044 <span class="comment">     */</span>
00045     <span class="keyword">typedef</span> <span class="keyword">struct </span>netsnmp_tdata_s {
00046         <a class="code" href="structvariable__list.html">netsnmp_variable_list</a> *indexes_template;        <span class=
"comment">/* containing only types */</span>
00047         <span class="keywordtype">char</span>           *name;   <span class=
"comment">/* if !NULL, it's registered globally */</span>
00048         <span class="keywordtype">int</span>             flags;  <span class=
"comment">/* This field may legitimately be accessed by external code */</span>
00049         netsnmp_container *container;
00050     } netsnmp_tdata;
00051 
00052 <span class="comment">/* Backwards compatability with the previous (poorly named) data structures */</span>
00053 <span class="keyword">typedef</span>  <span class="keyword">struct </span>netsnmp_tdata_row_s netsnmp_table_data2row;
00054 <span class="keyword">typedef</span>  <span class="keyword">struct </span>netsnmp_tdata_s     netsnmp_table_data2;
00055 
00056 
00057 <span class="comment">/* ============================</span>
00058 <span class="comment"> * TData API: Table maintenance</span>
00059 <span class="comment"> * ============================ */</span>
00060 
00061     netsnmp_tdata     *<a class="code" href="group__tdata.html#ga2">netsnmp_tdata_create_table</a>(<span class=
"keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keywordtype">long</span> flags);
00062     <span class="keywordtype">void</span>               <a class="code" href=
"group__tdata.html#ga3">netsnmp_tdata_delete_table</a>(netsnmp_tdata *table);
00063     netsnmp_tdata_row *<a class="code" href="group__tdata.html#ga4">netsnmp_tdata_create_row</a>(<span class=
"keywordtype">void</span>);
00064     netsnmp_tdata_row *<a class="code" href="group__tdata.html#ga5">netsnmp_tdata_clone_row</a>( netsnmp_tdata_row *row);
00065     <span class="keywordtype">int</span>                <a class="code" href=
"group__tdata.html#ga6">netsnmp_tdata_copy_row</a>(  netsnmp_tdata_row *dst_row,
00066                                                 netsnmp_tdata_row *src_row);
00067     <span class="keywordtype">void</span>           *<a class="code" href=
"group__tdata.html#ga7">netsnmp_tdata_delete_row</a>(   netsnmp_tdata_row *row);
00068 
00069     <span class="keywordtype">int</span>             <a class="code" href=
"group__tdata.html#ga8">netsnmp_tdata_add_row</a>(      netsnmp_tdata     *table,
00070                                                 netsnmp_tdata_row *row);
00071     <span class="keywordtype">void</span>            <a class="code" href=
"group__tdata.html#ga9">netsnmp_tdata_replace_row</a>(  netsnmp_tdata     *table,
00072                                                 netsnmp_tdata_row *origrow,
00073                                                 netsnmp_tdata_row *newrow);
00074     netsnmp_tdata_row *<a class="code" href="group__tdata.html#ga10">netsnmp_tdata_remove_row</a>(netsnmp_tdata     *table,
00075                                                 netsnmp_tdata_row *row);
00076     <span class="keywordtype">void</span>   *<a class="code" href=
"group__tdata.html#ga11">netsnmp_tdata_remove_and_delete_row</a>(netsnmp_tdata     *table,
00077                                                 netsnmp_tdata_row *row);
00078 
00079 
00080 <span class="comment">/* ============================</span>
00081 <span class="comment"> * TData API: MIB maintenance</span>
00082 <span class="comment"> * ============================ */</span>
00083 
00084     <a class="code" href="structnetsnmp__mib__handler__s.html">netsnmp_mib_handler</a> *<a class="code" href=
"group__tdata.html#ga12">netsnmp_get_tdata_handler</a>(netsnmp_tdata *table);
00085 
00086     <span class="keywordtype">int</span> <a class="code" href="group__tdata.html#ga14">netsnmp_tdata_register</a>(<a class=
"code" href="structnetsnmp__handler__registration__s.html">netsnmp_handler_registration</a> *reginfo,
00087                                netsnmp_tdata                *table,
00088                                <a class="code" href=
"structnetsnmp__table__registration__info__s.html">netsnmp_table_registration_info</a> *table_info);
00089 
00090     netsnmp_tdata      *<a class="code" href="group__tdata.html#ga15">netsnmp_tdata_extract_table</a>(    <a class="code"
href="structnetsnmp__request__info__s.html">netsnmp_request_info</a> *);
00091     netsnmp_container  *<a class="code" href="group__tdata.html#ga16">netsnmp_tdata_extract_container</a>(<a class="code"
href="structnetsnmp__request__info__s.html">netsnmp_request_info</a> *);
00092     netsnmp_tdata_row  *<a class="code" href="group__tdata.html#ga17">netsnmp_tdata_extract_row</a>(      <a class="code"
href="structnetsnmp__request__info__s.html">netsnmp_request_info</a> *);
00093     <span class="keywordtype">void</span>               *<a class="code" href=
"group__tdata.html#ga18">netsnmp_tdata_extract_entry</a>(    <a class="code" href=
"structnetsnmp__request__info__s.html">netsnmp_request_info</a> *);
00094 
00095     <span class="keywordtype">void</span> <a class="code" href=
"group__tdata.html#ga19">netsnmp_insert_tdata_row</a>(<a class="code" href=
"structnetsnmp__request__info__s.html">netsnmp_request_info</a> *, netsnmp_tdata_row *);
00096 
00097 
00098 <span class="comment">/* ============================</span>
00099 <span class="comment"> * TData API: Row operations</span>
00100 <span class="comment"> * ============================ */</span>
00101 
00102     <span class="keywordtype">void</span> * <a class="code" href=
"group__tdata.html#ga20">netsnmp_tdata_row_entry</a>( netsnmp_tdata_row *row );
00103     netsnmp_tdata_row *<a class="code" href="group__tdata.html#ga21">netsnmp_tdata_row_first</a>(netsnmp_tdata     *table);
00104     netsnmp_tdata_row *<a class="code" href="group__tdata.html#ga22">netsnmp_tdata_row_get</a>(  netsnmp_tdata     *table,
00105                                                netsnmp_tdata_row *row);
00106     netsnmp_tdata_row *<a class="code" href="group__tdata.html#ga23">netsnmp_tdata_row_next</a>( netsnmp_tdata     *table,
00107                                                netsnmp_tdata_row *row);
00108 
00109     netsnmp_tdata_row *<a class="code" href=
"group__tdata.html#ga24">netsnmp_tdata_row_get_byidx</a>(netsnmp_tdata      *table,
00110                                                 <a class="code" href=
"structvariable__list.html">netsnmp_variable_list</a> *indexes);
00111     netsnmp_tdata_row *<a class="code" href=
"group__tdata.html#ga25">netsnmp_tdata_row_get_byoid</a>(netsnmp_tdata      *table,
00112                                                 oid   *searchfor,
00113                                                 size_t searchfor_len);
00114     netsnmp_tdata_row *<a class="code" href=
"group__tdata.html#ga26">netsnmp_tdata_row_next_byidx</a>(netsnmp_tdata     *table,
00115                                                 <a class="code" href=
"structvariable__list.html">netsnmp_variable_list</a> *indexes);
00116     netsnmp_tdata_row *<a class="code" href=
"group__tdata.html#ga27">netsnmp_tdata_row_next_byoid</a>(netsnmp_tdata     *table,
00117                                                 oid   *searchfor,
00118                                                 size_t searchfor_len);
00119 
00120     <span class="keywordtype">int</span> netsnmp_tdata_row_count(netsnmp_tdata *table);
00121 
00122 
00123 <span class="comment">/* ============================</span>
00124 <span class="comment"> * TData API: Index operations</span>
00125 <span class="comment"> * ============================ */</span>
00126 
00127 <span class=
"preprocessor">#define netsnmp_tdata_add_index(thetable, type) snmp_varlist_add_variable(&amp;thetable-&gt;indexes_template, NULL, 0, type, NULL, 0)</span>
00128 <span class=
"preprocessor">#define netsnmp_tdata_row_add_index(row, type, value, value_len) snmp_varlist_add_variable(&amp;row-&gt;indexes, NULL, 0, type, (const u_char *) value, value_len)</span>
00129 
00130     <span class="keywordtype">int</span> <a class="code" href=
"group__tdata.html#ga29">netsnmp_tdata_compare_idx</a>(        netsnmp_tdata_row     *row,
00131                                           <a class="code" href=
"structvariable__list.html">netsnmp_variable_list</a> *indexes);
00132     <span class="keywordtype">int</span> <a class="code" href=
"group__tdata.html#ga30">netsnmp_tdata_compare_oid</a>(        netsnmp_tdata_row     *row,
00133                                           oid *compareto, size_t compareto_len);
00134     <span class="keywordtype">int</span> netsnmp_tdata_compare_subtree_idx(netsnmp_tdata_row     *row,
00135                                           <a class="code" href=
"structvariable__list.html">netsnmp_variable_list</a> *indexes);
00136     <span class="keywordtype">int</span> netsnmp_tdata_compare_subtree_oid(netsnmp_tdata_row     *row,
00137                                           oid *compareto, size_t compareto_len);
00138 
00139 
00140 <span class="preprocessor">#ifdef __cplusplus</span>
00141 }
00142 <span class="preprocessor">#endif</span>
00143 
00144 <span class="preprocessor">#endif                          </span><span class=
"comment">/* _TABLE_TDATA_HANDLER_H_ */</span>
</pre>
  </div>
  <hr size="1" />

  <address style="align: right;">
    <small>Generated on Fri Dec 30 13:47:51 2005 for net-snmp by&nbsp; <a href="http://www.doxygen.org/index.html"><img src=
    "doxygen.png" alt="doxygen" align="middle" border="0" /></a> 1.3.9.1</small>
  </address>
<!-- CONTENT END -->
<!--#include virtual="/page-bottom.html" -->

