<!--#set var="section" value="development" -->
<!--#include virtual="/page-top.html" -->
<!-- CONTENT START -->
  <!-- Generated by Doxygen 1.3.9.1 -->

  <div class="qindex">
    <a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class=
    "qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class=
    "qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class=
    "qindex" href="examples.html">Examples</a>
  </div>

  <h1>A generic callback mechanism<br />
  <small>[<a class="el" href="group__library.html">The Net-SNMP library</a>]</small></h1>

  <table border="0" cellpadding="0" cellspacing="0">
    <tr>
      <td></td>
    </tr>

    <tr>
      <td colspan="2">
        <br />

        <h2>Defines</h2>
      </td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga17" doxytag=
      "callback::CALLBACK_NAME_LOGGING" id="ga17"></a> #define&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>CALLBACK_NAME_LOGGING</b>&nbsp;&nbsp;&nbsp;1</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga18" doxytag=
      "callback::LOCK_PER_CALLBACK_SUBID" id="ga18"></a> #define&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>LOCK_PER_CALLBACK_SUBID</b>&nbsp;&nbsp;&nbsp;1</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga19" doxytag=
      "callback::CALLBACK_LOCK" id="ga19"></a> #define&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>CALLBACK_LOCK</b>(maj, min)&nbsp;&nbsp;&nbsp;++_locks[major][minor]</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga20" doxytag=
      "callback::CALLBACK_UNLOCK" id="ga20"></a> #define&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>CALLBACK_UNLOCK</b>(maj, min)&nbsp;&nbsp;&nbsp;--_locks[major][minor]</td>
    </tr>

    <tr>
      <td colspan="2">
        <br />

        <h2>Functions</h2>
      </td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga5" doxytag=
      "callback::_callback_lock" id="ga5"></a> NETSNMP_STATIC_INLINE int&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>_callback_lock</b> (int major, int minor, const char *warn, int assert)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga6" doxytag=
      "callback::_callback_unlock" id="ga6"></a> NETSNMP_STATIC_INLINE void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>_callback_unlock</b> (int major, int minor)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga7" doxytag=
      "callback::init_callbacks" id="ga7"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>init_callbacks</b> (void)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top">int&nbsp;</td>

      <td class="memItemRight" valign="bottom"><a class="el" href="group__callback.html#ga8">snmp_register_callback</a> (int
      major, int minor, SNMPCallback *new_callback, void *arg)</td>
    </tr>

    <tr>
      <td class="mdescLeft">&nbsp;</td>

      <td class="mdescRight">This function registers a generic callback function. <a href="#ga8"></a><br /></td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga9" doxytag=
      "callback::netsnmp_register_callback" id="ga9"></a> int&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>netsnmp_register_callback</b> (int major, int minor, SNMPCallback
      *new_callback, void *arg, int priority)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top">int&nbsp;</td>

      <td class="memItemRight" valign="bottom"><a class="el" href="group__callback.html#ga10">snmp_call_callbacks</a> (int major,
      int minor, void *caller_arg)</td>
    </tr>

    <tr>
      <td class="mdescLeft">&nbsp;</td>

      <td class="mdescRight">This function calls the callback function for each registered callback of type major and minor.
      <a href="#ga10"></a><br /></td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga11" doxytag=
      "callback::snmp_count_callbacks" id="ga11"></a> int&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>snmp_count_callbacks</b> (int major, int minor)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga12" doxytag=
      "callback::snmp_callback_available" id="ga12"></a> int&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>snmp_callback_available</b> (int major, int minor)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top">int&nbsp;</td>

      <td class="memItemRight" valign="bottom"><a class="el" href="group__callback.html#ga13">snmp_unregister_callback</a> (int
      major, int minor, SNMPCallback *target, void *arg, int matchargs)</td>
    </tr>

    <tr>
      <td class="mdescLeft">&nbsp;</td>

      <td class="mdescRight">This function unregisters a specified callback function given a major and minor type. <a href=
      "#ga13"></a><br /></td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top">int&nbsp;</td>

      <td class="memItemRight" valign="bottom"><a class="el" href=
      "group__callback.html#ga14">netsnmp_callback_clear_client_arg</a> (void *ptr, int i, int j)</td>
    </tr>

    <tr>
      <td class="mdescLeft">&nbsp;</td>

      <td class="mdescRight">find and clear client args that match ptr <a href="#ga14"></a><br /></td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga15" doxytag=
      "callback::clear_callback" id="ga15"></a> void&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>clear_callback</b> (void)</td>
    </tr>

    <tr>
      <td class="memItemLeft" nowrap="nowrap" align="right" valign="top"><a class="anchor" name="ga16" doxytag=
      "callback::snmp_callback_list" id="ga16"></a> snmp_gen_callback *&nbsp;</td>

      <td class="memItemRight" valign="bottom"><b>snmp_callback_list</b> (int major, int minor)</td>
    </tr>
  </table>
  <hr />

  <h2>Function Documentation</h2><a class="anchor" name="ga14" doxytag="callback.c::netsnmp_callback_clear_client_arg" id=
  "ga14"></a>

  <table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
    <tr>
      <td class="mdRow">
        <table cellpadding="0" cellspacing="0" border="0">
          <tr>
            <td class="md" nowrap="nowrap" valign="top">int netsnmp_callback_clear_client_arg</td>

            <td class="md" valign="top">(&nbsp;</td>

            <td class="md" nowrap="nowrap" valign="top">void *&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>ptr</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">int&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>i</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">int&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>j</em></td>
          </tr>

          <tr>
            <td class="md"></td>

            <td class="md">)&nbsp;</td>

            <td class="md" colspan="2"></td>
          </tr>
        </table>
      </td>
    </tr>
  </table>

  <table cellspacing="5" cellpadding="0" border="0">
    <tr>
      <td>&nbsp;</td>

      <td>
        <p>find and clear client args that match ptr</p>

        <dl compact="compact">
          <dt><b>Parameters:</b></dt>

          <dd>
            <table border="0" cellspacing="2" cellpadding="0">
              <tr>
                <td valign="top"></td>

                <td valign="top"><em>ptr</em>&nbsp;</td>

                <td>pointer to search for</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>i</em>&nbsp;</td>

                <td>callback id to start at</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>j</em>&nbsp;</td>

                <td>callback subid to start at</td>
              </tr>
            </table>
          </dd>
        </dl>

        <p>Definition at line <a class="el" href="callback_8c-source.html#l00456">456</a> of file <a class="el" href=
        "callback_8c-source.html">callback.c</a>.</p>
      </td>
    </tr>
  </table><a class="anchor" name="ga10" doxytag="callback.c::snmp_call_callbacks" id="ga10"></a>

  <table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
    <tr>
      <td class="mdRow">
        <table cellpadding="0" cellspacing="0" border="0">
          <tr>
            <td class="md" nowrap="nowrap" valign="top">int snmp_call_callbacks</td>

            <td class="md" valign="top">(&nbsp;</td>

            <td class="md" nowrap="nowrap" valign="top">int&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>major</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">int&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>minor</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">void *&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>caller_arg</em></td>
          </tr>

          <tr>
            <td class="md"></td>

            <td class="md">)&nbsp;</td>

            <td class="md" colspan="2"></td>
          </tr>
        </table>
      </td>
    </tr>
  </table>

  <table cellspacing="5" cellpadding="0" border="0">
    <tr>
      <td>&nbsp;</td>

      <td>
        <p>This function calls the callback function for each registered callback of type major and minor.</p>

        <dl compact="compact">
          <dt><b>Parameters:</b></dt>

          <dd>
            <table border="0" cellspacing="2" cellpadding="0">
              <tr>
                <td valign="top"></td>

                <td valign="top"><em>major</em>&nbsp;</td>

                <td>is the SNMP callback major type used</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>minor</em>&nbsp;</td>

                <td>is the SNMP callback minor type used</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>caller_arg</em>&nbsp;</td>

                <td>is a void pointer which is sent in as the callback's serverarg parameter, if needed.</td>
              </tr>
            </table>
          </dd>
        </dl>

        <dl compact="compact">
          <dt><b>Returns:</b></dt>

          <dd>Returns SNMPERR_GENERR if major is &gt;= MAX_CALLBACK_IDS or minor is &gt;= MAX_CALLBACK_SUBIDS, otherwise
          SNMPERR_SUCCESS is returned.</dd>
        </dl>

        <dl compact="compact">
          <dt><b>See also:</b></dt>

          <dd>
            <a class="el" href="group__callback.html#ga8">snmp_register_callback</a>

            <p><a class="el" href="group__callback.html#ga13">snmp_unregister_callback</a></p>
          </dd>
        </dl>

        <p>Definition at line <a class="el" href="callback_8c-source.html#l00280">280</a> of file <a class="el" href=
        "callback_8c-source.html">callback.c</a>.</p>

        <p>Referenced by <a class="el" href="agent__registry_8c-source.html#l01286">netsnmp_acm_check_subtree()</a>, <a class=
        "el" href="old__api_8c-source.html#l00106">netsnmp_register_mib_table_row()</a>, <a class="el" href=
        "snmp__api_8c-source.html#l00862">snmp_shutdown()</a>, and <a class="el" href=
        "agent__registry_8c-source.html#l00958">unregister_mib_context()</a>.</p>
      </td>
    </tr>
  </table><a class="anchor" name="ga8" doxytag="callback.c::snmp_register_callback" id="ga8"></a>

  <table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
    <tr>
      <td class="mdRow">
        <table cellpadding="0" cellspacing="0" border="0">
          <tr>
            <td class="md" nowrap="nowrap" valign="top">int snmp_register_callback</td>

            <td class="md" valign="top">(&nbsp;</td>

            <td class="md" nowrap="nowrap" valign="top">int&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>major</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">int&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>minor</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">SNMPCallback *&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>new_callback</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">void *&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>arg</em></td>
          </tr>

          <tr>
            <td class="md"></td>

            <td class="md">)&nbsp;</td>

            <td class="md" colspan="2"></td>
          </tr>
        </table>
      </td>
    </tr>
  </table>

  <table cellspacing="5" cellpadding="0" border="0">
    <tr>
      <td>&nbsp;</td>

      <td>
        <p>This function registers a generic callback function.</p>

        <p>The major and minor values are used to set the new_callback function into a global static multi-dimensional array of
        type struct snmp_gen_callback. The function makes sure to append this callback function at the end of the link list,
        snmp_gen_callback-&gt;next.</p>

        <dl compact="compact">
          <dt><b>Parameters:</b></dt>

          <dd>
            <table border="0" cellspacing="2" cellpadding="0">
              <tr>
                <td valign="top"></td>

                <td valign="top"><em>major</em>&nbsp;</td>

                <td>
                  is the SNMP callback major type used

                  <ul>
                    <li>SNMP_CALLBACK_LIBRARY</li>

                    <li>SNMP_CALLBACK_APPLICATION</li>
                  </ul>
                </td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>minor</em>&nbsp;</td>

                <td>
                  is the SNMP callback minor type used

                  <ul>
                    <li>SNMP_CALLBACK_POST_READ_CONFIG</li>

                    <li>SNMP_CALLBACK_STORE_DATA</li>

                    <li>SNMP_CALLBACK_SHUTDOWN</li>

                    <li>SNMP_CALLBACK_POST_PREMIB_READ_CONFIG</li>

                    <li>SNMP_CALLBACK_LOGGING</li>

                    <li>SNMP_CALLBACK_SESSION_INIT</li>
                  </ul>
                </td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>new_callback</em>&nbsp;</td>

                <td>is the callback function that is registered.</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>arg</em>&nbsp;</td>

                <td>when not NULL is a void pointer used whenever new_callback function is exercised.</td>
              </tr>
            </table>
          </dd>
        </dl>

        <dl compact="compact">
          <dt><b>Returns:</b></dt>

          <dd>
            Returns SNMPERR_GENERR if major is &gt;= MAX_CALLBACK_IDS or minor is &gt;= MAX_CALLBACK_SUBIDS or a
            snmp_gen_callback pointer could not be allocated, otherwise SNMPERR_SUCCESS is returned.

            <ul>
              <li>#define MAX_CALLBACK_IDS 2</li>

              <li>#define MAX_CALLBACK_SUBIDS 16</li>
            </ul>
          </dd>
        </dl>

        <dl compact="compact">
          <dt><b>See also:</b></dt>

          <dd>
            <a class="el" href="group__callback.html#ga10">snmp_call_callbacks</a>

            <p><a class="el" href="group__callback.html#ga13">snmp_unregister_callback</a></p>
          </dd>
        </dl>

        <p>Definition at line <a class="el" href="callback_8c-source.html#l00212">212</a> of file <a class="el" href=
        "callback_8c-source.html">callback.c</a>.</p>

        <p>Referenced by <a class="el" href="data__list_8c-source.html#l00231">netsnmp_register_save_list()</a>.</p>
      </td>
    </tr>
  </table><a class="anchor" name="ga13" doxytag="callback.c::snmp_unregister_callback" id="ga13"></a>

  <table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
    <tr>
      <td class="mdRow">
        <table cellpadding="0" cellspacing="0" border="0">
          <tr>
            <td class="md" nowrap="nowrap" valign="top">int snmp_unregister_callback</td>

            <td class="md" valign="top">(&nbsp;</td>

            <td class="md" nowrap="nowrap" valign="top">int&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>major</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">int&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>minor</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">SNMPCallback *&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>target</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">void *&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>arg</em>,</td>
          </tr>

          <tr>
            <td class="md" nowrap="nowrap" align="right"></td>

            <td class="md"></td>

            <td class="md" nowrap="nowrap">int&nbsp;</td>

            <td class="mdname" nowrap="nowrap"><em>matchargs</em></td>
          </tr>

          <tr>
            <td class="md"></td>

            <td class="md">)&nbsp;</td>

            <td class="md" colspan="2"></td>
          </tr>
        </table>
      </td>
    </tr>
  </table>

  <table cellspacing="5" cellpadding="0" border="0">
    <tr>
      <td>&nbsp;</td>

      <td>
        <p>This function unregisters a specified callback function given a major and minor type.</p>

        <p>Note: no bound checking on major and minor.</p>

        <dl compact="compact">
          <dt><b>Parameters:</b></dt>

          <dd>
            <table border="0" cellspacing="2" cellpadding="0">
              <tr>
                <td valign="top"></td>

                <td valign="top"><em>major</em>&nbsp;</td>

                <td>is the SNMP callback major type used</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>minor</em>&nbsp;</td>

                <td>is the SNMP callback minor type used</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>target</em>&nbsp;</td>

                <td>is the callback function that will be unregistered.</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>arg</em>&nbsp;</td>

                <td>is a void pointer used for comparison against the registered callback's sc_client_arg variable.</td>
              </tr>

              <tr>
                <td valign="top"></td>

                <td valign="top"><em>matchargs</em>&nbsp;</td>

                <td>is an integer used to bypass the comparison of arg and the callback's sc_client_arg variable only when
                matchargs is set to 0.</td>
              </tr>
            </table>
          </dd>
        </dl>

        <dl compact="compact">
          <dt><b>Returns:</b></dt>

          <dd>Returns the number of callbacks that were unregistered.</dd>
        </dl>

        <dl compact="compact">
          <dt><b>See also:</b></dt>

          <dd>
            <a class="el" href="group__callback.html#ga8">snmp_register_callback</a>

            <p><a class="el" href="group__callback.html#ga10">snmp_call_callbacks</a></p>
          </dd>
        </dl>

        <p>set cleanup flag?</p>

        <p>Definition at line <a class="el" href="callback_8c-source.html#l00400">400</a> of file <a class="el" href=
        "callback_8c-source.html">callback.c</a>.</p>

        <p>References <a class="el" href="tools_8h-source.html#l00053">SNMP_FREE</a>.</p>
      </td>
    </tr>
  </table>
  <hr size="1" />

  <address style="align: right;">
    <small>Generated on Fri Dec 30 13:47:55 2005 for net-snmp by&nbsp; <a href="http://www.doxygen.org/index.html"><img src=
    "doxygen.png" alt="doxygen" align="middle" border="0" /></a> 1.3.9.1</small>
  </address>
<!-- CONTENT END -->
<!--#include virtual="/page-bottom.html" -->

