<!--#set var="section" value="development" -->
<!--#include virtual="/page-top.html" -->
<!-- CONTENT START -->
  <div class="navigation" id="top">
    <div class="tabs">
      <ul>
        <li><a href="index.html"><span>Main Page</span></a></li>

        <li><a href="pages.html"><span>Related Pages</span></a></li>

        <li><a href="modules.html"><span>Modules</span></a></li>

        <li><a href="annotated.html"><span>Data Structures</span></a></li>

        <li><a href="files.html"><span>Files</span></a></li>

        <li><a href="examples.html"><span>Examples</span></a></li>
      </ul>
    </div>
  </div>

  <div class="contents">
    <h1>cache_handler<br />
    <small>[<a class="el" href="group__utilities.html">utility_handlers</a>]</small></h1>

    <p>Maintains a cache of data for use by lower level handlers. <a href="#_details">More...</a></p>

    <table border="0" cellpadding="0" cellspacing="0">
      <tr>
        <td colspan="2">
          <h2>Functions</h2>
        </td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top"><a class="el" href="structnetsnmp__cache__s.html">netsnmp_cache</a>
        * </td>

        <td class="memItemRight" valign="bottom"><a class="el" href=
        "group__cache__handler.html#ga7c4ec81361b36cc73623471cb9c7ebf1">netsnmp_cache_get_head</a> (void)</td>
      </tr>

      <tr>
        <td class="mdescLeft"> </td>

        <td class="mdescRight">get cache head <a href="#ga7c4ec81361b36cc73623471cb9c7ebf1"></a><br /></td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top"><a class="el" href="structnetsnmp__cache__s.html">netsnmp_cache</a>
        * </td>

        <td class="memItemRight" valign="bottom"><a class="el" href=
        "group__cache__handler.html#gacab9dbf6a66c44e565b2b4a40dca8679">netsnmp_cache_find_by_oid</a> (const oid *rootoid, int
        rootoid_len)</td>
      </tr>

      <tr>
        <td class="mdescLeft"> </td>

        <td class="mdescRight">find existing cache <a href="#gacab9dbf6a66c44e565b2b4a40dca8679"></a><br /></td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top"><a class="el" href="structnetsnmp__cache__s.html">netsnmp_cache</a>
        * </td>

        <td class="memItemRight" valign="bottom"><a class="el" href=
        "group__cache__handler.html#ga3ea7cb36443e7ea136af81a2ef233043">netsnmp_cache_create</a> (int timeout, NetsnmpCacheLoad
        *load_hook, NetsnmpCacheFree *free_hook, const oid *rootoid, int rootoid_len)</td>
      </tr>

      <tr>
        <td class="mdescLeft"> </td>

        <td class="mdescRight">returns a cache <a href="#ga3ea7cb36443e7ea136af81a2ef233043"></a><br /></td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top">int </td>

        <td class="memItemRight" valign="bottom"><a class="el" href=
        "group__cache__handler.html#ga56cebc488aae4bbc9867e4855b0dccfa">netsnmp_cache_free</a> (<a class="el" href=
        "structnetsnmp__cache__s.html">netsnmp_cache</a> *cache)</td>
      </tr>

      <tr>
        <td class="mdescLeft"> </td>

        <td class="mdescRight">frees a cache <a href="#ga56cebc488aae4bbc9867e4855b0dccfa"></a><br /></td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top">unsigned int </td>

        <td class="memItemRight" valign="bottom"><a class="el" href=
        "group__cache__handler.html#gadf49a3dc1aa486f3336ea7eab3ae7aaa">netsnmp_cache_timer_start</a> (<a class="el" href=
        "structnetsnmp__cache__s.html">netsnmp_cache</a> *cache)</td>
      </tr>

      <tr>
        <td class="mdescLeft"> </td>

        <td class="mdescRight">starts the recurring cache_load callback <a href=
        "#gadf49a3dc1aa486f3336ea7eab3ae7aaa"></a><br /></td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top">void </td>

        <td class="memItemRight" valign="bottom"><a class="el" href=
        "group__cache__handler.html#ga2299bbabdc6f2f342404c1e23b9b9ec2">netsnmp_cache_timer_stop</a> (<a class="el" href=
        "structnetsnmp__cache__s.html">netsnmp_cache</a> *cache)</td>
      </tr>

      <tr>
        <td class="mdescLeft"> </td>

        <td class="mdescRight">stops the recurring cache_load callback <a href=
        "#ga2299bbabdc6f2f342404c1e23b9b9ec2"></a><br /></td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top"><a class="el" href=
        "structnetsnmp__mib__handler__s.html">netsnmp_mib_handler</a> * </td>

        <td class="memItemRight" valign="bottom"><a class="el" href=
        "group__cache__handler.html#ga88681686401ef8d1d45b60b9eaebdbf9">netsnmp_cache_handler_get</a> (<a class="el" href=
        "structnetsnmp__cache__s.html">netsnmp_cache</a> *cache)</td>
      </tr>

      <tr>
        <td class="mdescLeft"> </td>

        <td class="mdescRight">returns a cache handler that can be injected into a given handler chain. <a href=
        "#ga88681686401ef8d1d45b60b9eaebdbf9"></a><br /></td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top"><a class="el" href=
        "structnetsnmp__mib__handler__s.html">netsnmp_mib_handler</a> * </td>

        <td class="memItemRight" valign="bottom"><a class="el" href=
        "group__cache__handler.html#ga3db0915795f05e9852cf5646994824bd">netsnmp_get_cache_handler</a> (int timeout,
        NetsnmpCacheLoad *load_hook, NetsnmpCacheFree *free_hook, const oid *rootoid, int rootoid_len)</td>
      </tr>

      <tr>
        <td class="mdescLeft"> </td>

        <td class="mdescRight">returns a cache handler that can be injected into a given handler chain. <a href=
        "#ga3db0915795f05e9852cf5646994824bd"></a><br /></td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top">int </td>

        <td class="memItemRight" valign="bottom"><a class="el" href=
        "group__cache__handler.html#ga1992834ca4eddf4499567a1119119f76">netsnmp_cache_handler_register</a> (<a class="el" href=
        "structnetsnmp__handler__registration__s.html">netsnmp_handler_registration</a> *reginfo, <a class="el" href=
        "structnetsnmp__cache__s.html">netsnmp_cache</a> *cache)</td>
      </tr>

      <tr>
        <td class="mdescLeft"> </td>

        <td class="mdescRight">functionally the same as calling <a class="el" href=
        "group__handler.html#gacdbdb9d74898a5bf04b0992ea0316aa4" title=
        "register a handler, as defined by the netsnmp_handler_registration pointer.">netsnmp_register_handler()</a> but also
        injects a cache handler at the same time for you. <a href="#ga1992834ca4eddf4499567a1119119f76"></a><br /></td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top">int </td>

        <td class="memItemRight" valign="bottom"><a class="el" href=
        "group__cache__handler.html#gab206126ebd47097c0543c848dbdc8f10">netsnmp_register_cache_handler</a> (<a class="el" href=
        "structnetsnmp__handler__registration__s.html">netsnmp_handler_registration</a> *reginfo, int timeout, NetsnmpCacheLoad
        *load_hook, NetsnmpCacheFree *free_hook)</td>
      </tr>

      <tr>
        <td class="mdescLeft"> </td>

        <td class="mdescRight">functionally the same as calling <a class="el" href=
        "group__handler.html#gacdbdb9d74898a5bf04b0992ea0316aa4" title=
        "register a handler, as defined by the netsnmp_handler_registration pointer.">netsnmp_register_handler()</a> but also
        injects a cache handler at the same time for you. <a href="#gab206126ebd47097c0543c848dbdc8f10"></a><br /></td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf5de74e41cc43d867efbff73c52e1958" name=
        "gaf5de74e41cc43d867efbff73c52e1958"></a>
        <!-- doxytag: member="cache_handler::_build_cache_name" ref="gaf5de74e41cc43d867efbff73c52e1958" args="(const char *name)" -->
        NETSNMP_STATIC_INLINE char * </td>

        <td class="memItemRight" valign="bottom"><b>_build_cache_name</b> (const char *name)</td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top">void </td>

        <td class="memItemRight" valign="bottom"><a class="el" href=
        "group__cache__handler.html#gadcf7437ac73ef1b6f4ca75be6dd15070">netsnmp_cache_reqinfo_insert</a> (<a class="el" href=
        "structnetsnmp__cache__s.html">netsnmp_cache</a> *cache, <a class="el" href=
        "structnetsnmp__agent__request__info__s.html">netsnmp_agent_request_info</a> *reqinfo, const char *name)</td>
      </tr>

      <tr>
        <td class="mdescLeft"> </td>

        <td class="mdescRight">Insert the cache information for a given request (PDU). <a href=
        "#gadcf7437ac73ef1b6f4ca75be6dd15070"></a><br /></td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top"><a class="el" href="structnetsnmp__cache__s.html">netsnmp_cache</a>
        * </td>

        <td class="memItemRight" valign="bottom"><a class="el" href=
        "group__cache__handler.html#ga58ecdafd59f4b72f1d41aa25bf088ddf">netsnmp_cache_reqinfo_extract</a> (<a class="el" href=
        "structnetsnmp__agent__request__info__s.html">netsnmp_agent_request_info</a> *reqinfo, const char *name)</td>
      </tr>

      <tr>
        <td class="mdescLeft"> </td>

        <td class="mdescRight">Extract the cache information for a given request (PDU). <a href=
        "#ga58ecdafd59f4b72f1d41aa25bf088ddf"></a><br /></td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top"><a class="el" href="structnetsnmp__cache__s.html">netsnmp_cache</a>
        * </td>

        <td class="memItemRight" valign="bottom"><a class="el" href=
        "group__cache__handler.html#ga883fcf5b05d6f6cfe40fc1807f57d9dd">netsnmp_extract_cache_info</a> (<a class="el" href=
        "structnetsnmp__agent__request__info__s.html">netsnmp_agent_request_info</a> *reqinfo)</td>
      </tr>

      <tr>
        <td class="mdescLeft"> </td>

        <td class="mdescRight">Extract the cache information for a given request (PDU). <a href=
        "#ga883fcf5b05d6f6cfe40fc1807f57d9dd"></a><br /></td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top">int </td>

        <td class="memItemRight" valign="bottom"><a class="el" href=
        "group__cache__handler.html#ga143107a4bc8936250f6ebac8931ced69">netsnmp_cache_check_expired</a> (<a class="el" href=
        "structnetsnmp__cache__s.html">netsnmp_cache</a> *cache)</td>
      </tr>

      <tr>
        <td class="mdescLeft"> </td>

        <td class="mdescRight">Check if the cache timeout has passed. <a href=
        "#ga143107a4bc8936250f6ebac8931ced69"></a><br /></td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top">int </td>

        <td class="memItemRight" valign="bottom"><a class="el" href=
        "group__cache__handler.html#gadfd7cc2cd0b8bf3f4da307251f44faa1">netsnmp_cache_check_and_reload</a> (<a class="el" href=
        "structnetsnmp__cache__s.html">netsnmp_cache</a> *cache)</td>
      </tr>

      <tr>
        <td class="mdescLeft"> </td>

        <td class="mdescRight">Reload the cache if required. <a href="#gadfd7cc2cd0b8bf3f4da307251f44faa1"></a><br /></td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top">int </td>

        <td class="memItemRight" valign="bottom"><a class="el" href=
        "group__cache__handler.html#gabda646537990048988842a9c9f46c839">netsnmp_cache_is_valid</a> (<a class="el" href=
        "structnetsnmp__agent__request__info__s.html">netsnmp_agent_request_info</a> *reqinfo, const char *name)</td>
      </tr>

      <tr>
        <td class="mdescLeft"> </td>

        <td class="mdescRight">Is the cache valid for a given request? <a href=
        "#gabda646537990048988842a9c9f46c839"></a><br /></td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top">int </td>

        <td class="memItemRight" valign="bottom"><a class="el" href=
        "group__cache__handler.html#ga8ea1279d37397441c87f8f1d8146e24f">netsnmp_is_cache_valid</a> (<a class="el" href=
        "structnetsnmp__agent__request__info__s.html">netsnmp_agent_request_info</a> *reqinfo)</td>
      </tr>

      <tr>
        <td class="mdescLeft"> </td>

        <td class="mdescRight">Is the cache valid for a given request? for backwards compatability. <a href=
        "#ga8ea1279d37397441c87f8f1d8146e24f"></a><br /></td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top">int </td>

        <td class="memItemRight" valign="bottom"><a class="el" href=
        "group__cache__handler.html#gadf6eac4e2e67de0bf8fbae2c5d6f97c0">netsnmp_cache_helper_handler</a> (<a class="el" href=
        "structnetsnmp__mib__handler__s.html">netsnmp_mib_handler</a> *handler, <a class="el" href=
        "structnetsnmp__handler__registration__s.html">netsnmp_handler_registration</a> *reginfo, <a class="el" href=
        "structnetsnmp__agent__request__info__s.html">netsnmp_agent_request_info</a> *reqinfo, <a class="el" href=
        "structnetsnmp__request__info__s.html">netsnmp_request_info</a> *requests)</td>
      </tr>

      <tr>
        <td class="mdescLeft"> </td>

        <td class="mdescRight">Implements the cache handler. <a href="#gadf6eac4e2e67de0bf8fbae2c5d6f97c0"></a><br /></td>
      </tr>

      <tr>
        <td class="memItemLeft" align="right" valign="top">void </td>

        <td class="memItemRight" valign="bottom"><a class="el" href=
        "group__cache__handler.html#ga53067321af0f0fbb96dd8626bcbed94f">release_cached_resources</a> (unsigned int regNo, void
        *clientargs)</td>
      </tr>

      <tr>
        <td class="mdescLeft"> </td>

        <td class="mdescRight">run regularly to automatically release cached resources. <a href=
        "#ga53067321af0f0fbb96dd8626bcbed94f"></a><br /></td>
      </tr>
    </table>
    <hr />
    <a name="_details"></a>

    <h2>Detailed Description</h2>

    <p>Maintains a cache of data for use by lower level handlers.</p>

    <p>This helper checks to see whether the data has been loaded "recently" (according to the timeout for that particular cache)
    and calls the registered "load_cache" routine if necessary. The lower handlers can then work with this local cached data.</p>

    <p>A timeout value of -1 will cause <a class="el" href="group__cache__handler.html#ga143107a4bc8936250f6ebac8931ced69" title=
    "Check if the cache timeout has passed.">netsnmp_cache_check_expired()</a> to always return true, and thus the cache will be
    reloaded for every request.</p>

    <p>To minimze resource use by the agent, a periodic callback checks for expired caches, and will call the free_cache function
    for any expired cache.</p>

    <p>The load_cache route should return a negative number if the cache was not successfully loaded. 0 or any positive number
    indicates successs.</p>

    <p>Several flags can be set to affect the operations on the cache.</p>

    <p>If NETSNMP_CACHE_DONT_INVALIDATE_ON_SET is set, the free_cache method will not be called after a set request has
    processed. It is assumed that the lower mib handler using the cache has maintained cache consistency.</p>

    <p>If NETSNMP_CACHE_DONT_FREE_BEFORE_LOAD is set, the free_cache method will not be called before the load_cache method is
    called. It is assumed that the load_cache routine will properly deal with being called with a valid cache.</p>

    <p>If NETSNMP_CACHE_DONT_FREE_EXPIRED is set, the free_cache method will not be called with the cache expires. The expired
    flag will be set, but the valid flag will not be cleared. It is assumed that the load_cache routine will properly deal with
    being called with a valid cache.</p>

    <p>If NETSNMP_CACHE_PRELOAD is set when a the cache handler is created, the cache load routine will be called
    immediately.</p>

    <p>If NETSNMP_CACHE_DONT_AUTO_RELEASE is set, the periodic callback that checks for expired caches will skip the cache. The
    cache will only be checked for expiration when a request triggers the cache handler. This is useful if the cache has it's own
    periodic callback to keep the cache fresh.</p>

    <p>If NETSNMP_CACHE_AUTO_RELOAD is set, a timer will be set up to reload the cache when it expires. This is useful for
    keeping the cache fresh, even in the absence of incoming snmp requests.</p>

    <p>Here are some suggestions for some common situations.</p>

    <p>Cached File: If your table is based on a file that may periodically change, you can test the modification date to see if
    the file has changed since the last cache load. To get the cache helper to call the load function for every request, set the
    timeout to -1, which will cause the cache to always report that it is expired. This means that you will want to prevent the
    agent from flushing the cache when it has expired, and you will have to flush it manually if you detect that the file has
    changed. To accomplish this, set the following flags:</p>

    <p>NETSNMP_CACHE_DONT_FREE_EXPIRED NETSNMP_CACHE_DONT_AUTO_RELEASE</p>

    <p>Constant (periodic) reload: If you want the cache kept up to date regularly, even if no requests for the table are
    received, you can have your cache load routine called periodically. This is very useful if you need to monitor the data for
    changes (eg a <em>LastChanged</em> object). You will need to prevent the agent from flushing the cache when it expires. Set
    the cache timeout to the frequency, in seconds, that you wish to reload your cache, and set the following flags:</p>

    <p>NETSNMP_CACHE_DONT_FREE_EXPIRED NETSNMP_CACHE_DONT_AUTO_RELEASE NETSNMP_CACHE_AUTO_RELOAD</p>
    <hr />

    <h2>Function Documentation</h2><a class="anchor" id="gadfd7cc2cd0b8bf3f4da307251f44faa1" name=
    "gadfd7cc2cd0b8bf3f4da307251f44faa1"></a>
    <!-- doxytag: member="cache_handler.c::netsnmp_cache_check_and_reload" ref="gadfd7cc2cd0b8bf3f4da307251f44faa1" args="(netsnmp_cache *cache)" -->

    <div class="memitem">
      <div class="memproto">
        <table class="memname">
          <tr>
            <td class="memname">int netsnmp_cache_check_and_reload</td>

            <td>(</td>

            <td class="paramtype"><a class="el" href="structnetsnmp__cache__s.html">netsnmp_cache</a> * </td>

            <td class="paramname"><em>cache</em></td>

            <td> ) </td>

            <td></td>
          </tr>
        </table>
      </div>

      <div class="memdoc">
        <p>Reload the cache if required.</p>

        <p>Definition at line <a class="el" href="cache__handler_8c_source.html#l00420">420</a> of file <a class="el" href=
        "cache__handler_8c_source.html">cache_handler.c</a>.</p>
      </div>
    </div><a class="anchor" id="ga143107a4bc8936250f6ebac8931ced69" name="ga143107a4bc8936250f6ebac8931ced69"></a>
    <!-- doxytag: member="cache_handler.c::netsnmp_cache_check_expired" ref="ga143107a4bc8936250f6ebac8931ced69" args="(netsnmp_cache *cache)" -->

    <div class="memitem">
      <div class="memproto">
        <table class="memname">
          <tr>
            <td class="memname">int netsnmp_cache_check_expired</td>

            <td>(</td>

            <td class="paramtype"><a class="el" href="structnetsnmp__cache__s.html">netsnmp_cache</a> * </td>

            <td class="paramname"><em>cache</em></td>

            <td> ) </td>

            <td></td>
          </tr>
        </table>
      </div>

      <div class="memdoc">
        <p>Check if the cache timeout has passed.</p>

        <p>Sets and return the expired flag.</p>

        <p>Definition at line <a class="el" href="cache__handler_8c_source.html#l00405">405</a> of file <a class="el" href=
        "cache__handler_8c_source.html">cache_handler.c</a>.</p>
      </div>
    </div><a class="anchor" id="ga3ea7cb36443e7ea136af81a2ef233043" name="ga3ea7cb36443e7ea136af81a2ef233043"></a>
    <!-- doxytag: member="cache_handler.c::netsnmp_cache_create" ref="ga3ea7cb36443e7ea136af81a2ef233043" args="(int timeout, NetsnmpCacheLoad *load_hook, NetsnmpCacheFree *free_hook, const oid *rootoid, int rootoid_len)" -->

    <div class="memitem">
      <div class="memproto">
        <table class="memname">
          <tr>
            <td class="memname"><a class="el" href="structnetsnmp__cache__s.html">netsnmp_cache</a>* netsnmp_cache_create</td>

            <td>(</td>

            <td class="paramtype">int </td>

            <td class="paramname"><em>timeout</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype">NetsnmpCacheLoad * </td>

            <td class="paramname"><em>load_hook</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype">NetsnmpCacheFree * </td>

            <td class="paramname"><em>free_hook</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype">const oid * </td>

            <td class="paramname"><em>rootoid</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype">int </td>

            <td class="paramname"><em>rootoid_len</em></td>

            <td> </td>
          </tr>

          <tr>
            <td></td>

            <td>)</td>

            <td></td>

            <td></td>

            <td></td>
          </tr>
        </table>
      </div>

      <div class="memdoc">
        <p>returns a cache</p>

        <p>Definition at line <a class="el" href="cache__handler_8c_source.html#l00146">146</a> of file <a class="el" href=
        "cache__handler_8c_source.html">cache_handler.c</a>.</p>
      </div>
    </div><a class="anchor" id="gacab9dbf6a66c44e565b2b4a40dca8679" name="gacab9dbf6a66c44e565b2b4a40dca8679"></a>
    <!-- doxytag: member="cache_handler.c::netsnmp_cache_find_by_oid" ref="gacab9dbf6a66c44e565b2b4a40dca8679" args="(const oid *rootoid, int rootoid_len)" -->

    <div class="memitem">
      <div class="memproto">
        <table class="memname">
          <tr>
            <td class="memname"><a class="el" href="structnetsnmp__cache__s.html">netsnmp_cache</a>*
            netsnmp_cache_find_by_oid</td>

            <td>(</td>

            <td class="paramtype">const oid * </td>

            <td class="paramname"><em>rootoid</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype">int </td>

            <td class="paramname"><em>rootoid_len</em></td>

            <td> </td>
          </tr>

          <tr>
            <td></td>

            <td>)</td>

            <td></td>

            <td></td>

            <td></td>
          </tr>
        </table>
      </div>

      <div class="memdoc">
        <p>find existing cache</p>

        <p>Definition at line <a class="el" href="cache__handler_8c_source.html#l00130">130</a> of file <a class="el" href=
        "cache__handler_8c_source.html">cache_handler.c</a>.</p>
      </div>
    </div><a class="anchor" id="ga56cebc488aae4bbc9867e4855b0dccfa" name="ga56cebc488aae4bbc9867e4855b0dccfa"></a>
    <!-- doxytag: member="cache_handler.c::netsnmp_cache_free" ref="ga56cebc488aae4bbc9867e4855b0dccfa" args="(netsnmp_cache *cache)" -->

    <div class="memitem">
      <div class="memproto">
        <table class="memname">
          <tr>
            <td class="memname">int netsnmp_cache_free</td>

            <td>(</td>

            <td class="paramtype"><a class="el" href="structnetsnmp__cache__s.html">netsnmp_cache</a> * </td>

            <td class="paramname"><em>cache</em></td>

            <td> ) </td>

            <td></td>
          </tr>
        </table>
      </div>

      <div class="memdoc">
        <p>frees a cache</p>

        <p>Definition at line <a class="el" href="cache__handler_8c_source.html#l00189">189</a> of file <a class="el" href=
        "cache__handler_8c_source.html">cache_handler.c</a>.</p>
      </div>
    </div><a class="anchor" id="ga7c4ec81361b36cc73623471cb9c7ebf1" name="ga7c4ec81361b36cc73623471cb9c7ebf1"></a>
    <!-- doxytag: member="cache_handler.c::netsnmp_cache_get_head" ref="ga7c4ec81361b36cc73623471cb9c7ebf1" args="(void)" -->

    <div class="memitem">
      <div class="memproto">
        <table class="memname">
          <tr>
            <td class="memname"><a class="el" href="structnetsnmp__cache__s.html">netsnmp_cache</a>* netsnmp_cache_get_head</td>

            <td>(</td>

            <td class="paramtype">void </td>

            <td class="paramname"></td>

            <td> ) </td>

            <td></td>
          </tr>
        </table>
      </div>

      <div class="memdoc">
        <p>get cache head</p>

        <p>Definition at line <a class="el" href="cache__handler_8c_source.html#l00122">122</a> of file <a class="el" href=
        "cache__handler_8c_source.html">cache_handler.c</a>.</p>
      </div>
    </div><a class="anchor" id="ga88681686401ef8d1d45b60b9eaebdbf9" name="ga88681686401ef8d1d45b60b9eaebdbf9"></a>
    <!-- doxytag: member="cache_handler.c::netsnmp_cache_handler_get" ref="ga88681686401ef8d1d45b60b9eaebdbf9" args="(netsnmp_cache *cache)" -->

    <div class="memitem">
      <div class="memproto">
        <table class="memname">
          <tr>
            <td class="memname"><a class="el" href="structnetsnmp__mib__handler__s.html">netsnmp_mib_handler</a>*
            netsnmp_cache_handler_get</td>

            <td>(</td>

            <td class="paramtype"><a class="el" href="structnetsnmp__cache__s.html">netsnmp_cache</a> * </td>

            <td class="paramname"><em>cache</em></td>

            <td> ) </td>

            <td></td>
          </tr>
        </table>
      </div>

      <div class="memdoc">
        <p>returns a cache handler that can be injected into a given handler chain.</p>

        <p>Definition at line <a class="el" href="cache__handler_8c_source.html#l00282">282</a> of file <a class="el" href=
        "cache__handler_8c_source.html">cache_handler.c</a>.</p>
      </div>
    </div><a class="anchor" id="ga1992834ca4eddf4499567a1119119f76" name="ga1992834ca4eddf4499567a1119119f76"></a>
    <!-- doxytag: member="cache_handler.c::netsnmp_cache_handler_register" ref="ga1992834ca4eddf4499567a1119119f76" args="(netsnmp_handler_registration *reginfo, netsnmp_cache *cache)" -->

    <div class="memitem">
      <div class="memproto">
        <table class="memname">
          <tr>
            <td class="memname">int netsnmp_cache_handler_register</td>

            <td>(</td>

            <td class="paramtype"><a class="el" href=
            "structnetsnmp__handler__registration__s.html">netsnmp_handler_registration</a> * </td>

            <td class="paramname"><em>reginfo</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype"><a class="el" href="structnetsnmp__cache__s.html">netsnmp_cache</a> * </td>

            <td class="paramname"><em>cache</em></td>

            <td> </td>
          </tr>

          <tr>
            <td></td>

            <td>)</td>

            <td></td>

            <td></td>

            <td></td>
          </tr>
        </table>
      </div>

      <div class="memdoc">
        <p>functionally the same as calling <a class="el" href="group__handler.html#gacdbdb9d74898a5bf04b0992ea0316aa4" title=
        "register a handler, as defined by the netsnmp_handler_registration pointer.">netsnmp_register_handler()</a> but also
        injects a cache handler at the same time for you.</p>

        <p>Definition at line <a class="el" href="cache__handler_8c_source.html#l00330">330</a> of file <a class="el" href=
        "cache__handler_8c_source.html">cache_handler.c</a>.</p>
      </div>
    </div><a class="anchor" id="gadf6eac4e2e67de0bf8fbae2c5d6f97c0" name="gadf6eac4e2e67de0bf8fbae2c5d6f97c0"></a>
    <!-- doxytag: member="cache_handler.c::netsnmp_cache_helper_handler" ref="gadf6eac4e2e67de0bf8fbae2c5d6f97c0" args="(netsnmp_mib_handler *handler, netsnmp_handler_registration *reginfo, netsnmp_agent_request_info *reqinfo, netsnmp_request_info *requests)" -->

    <div class="memitem">
      <div class="memproto">
        <table class="memname">
          <tr>
            <td class="memname">int netsnmp_cache_helper_handler</td>

            <td>(</td>

            <td class="paramtype"><a class="el" href="structnetsnmp__mib__handler__s.html">netsnmp_mib_handler</a> * </td>

            <td class="paramname"><em>handler</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype"><a class="el" href=
            "structnetsnmp__handler__registration__s.html">netsnmp_handler_registration</a> * </td>

            <td class="paramname"><em>reginfo</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype"><a class="el" href="structnetsnmp__agent__request__info__s.html">netsnmp_agent_request_info</a>
            * </td>

            <td class="paramname"><em>reqinfo</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype"><a class="el" href="structnetsnmp__request__info__s.html">netsnmp_request_info</a> * </td>

            <td class="paramname"><em>requests</em></td>

            <td> </td>
          </tr>

          <tr>
            <td></td>

            <td>)</td>

            <td></td>

            <td></td>

            <td></td>
          </tr>
        </table>
      </div>

      <div class="memdoc">
        <p>Implements the cache handler.</p>

        <p>next handler called automatically - 'AUTO_NEXT'</p>

        <p>next handler called automatically - 'AUTO_NEXT'</p>

        <p>next handler called automatically - 'AUTO_NEXT'</p>

        <p>Definition at line <a class="el" href="cache__handler_8c_source.html#l00455">455</a> of file <a class="el" href=
        "cache__handler_8c_source.html">cache_handler.c</a>.</p>
      </div>
    </div><a class="anchor" id="gabda646537990048988842a9c9f46c839" name="gabda646537990048988842a9c9f46c839"></a>
    <!-- doxytag: member="cache_handler.c::netsnmp_cache_is_valid" ref="gabda646537990048988842a9c9f46c839" args="(netsnmp_agent_request_info *reqinfo, const char *name)" -->

    <div class="memitem">
      <div class="memproto">
        <table class="memname">
          <tr>
            <td class="memname">int netsnmp_cache_is_valid</td>

            <td>(</td>

            <td class="paramtype"><a class="el" href="structnetsnmp__agent__request__info__s.html">netsnmp_agent_request_info</a>
            * </td>

            <td class="paramname"><em>reqinfo</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype">const char * </td>

            <td class="paramname"><em>name</em></td>

            <td> </td>
          </tr>

          <tr>
            <td></td>

            <td>)</td>

            <td></td>

            <td></td>

            <td></td>
          </tr>
        </table>
      </div>

      <div class="memdoc">
        <p>Is the cache valid for a given request?</p>

        <p>Definition at line <a class="el" href="cache__handler_8c_source.html#l00437">437</a> of file <a class="el" href=
        "cache__handler_8c_source.html">cache_handler.c</a>.</p>
      </div>
    </div><a class="anchor" id="ga58ecdafd59f4b72f1d41aa25bf088ddf" name="ga58ecdafd59f4b72f1d41aa25bf088ddf"></a>
    <!-- doxytag: member="cache_handler.c::netsnmp_cache_reqinfo_extract" ref="ga58ecdafd59f4b72f1d41aa25bf088ddf" args="(netsnmp_agent_request_info *reqinfo, const char *name)" -->

    <div class="memitem">
      <div class="memproto">
        <table class="memname">
          <tr>
            <td class="memname"><a class="el" href="structnetsnmp__cache__s.html">netsnmp_cache</a>*
            netsnmp_cache_reqinfo_extract</td>

            <td>(</td>

            <td class="paramtype"><a class="el" href="structnetsnmp__agent__request__info__s.html">netsnmp_agent_request_info</a>
            * </td>

            <td class="paramname"><em>reqinfo</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype">const char * </td>

            <td class="paramname"><em>name</em></td>

            <td> </td>
          </tr>

          <tr>
            <td></td>

            <td>)</td>

            <td></td>

            <td></td>

            <td></td>
          </tr>
        </table>
      </div>

      <div class="memdoc">
        <p>Extract the cache information for a given request (PDU).</p>

        <p>Definition at line <a class="el" href="cache__handler_8c_source.html#l00385">385</a> of file <a class="el" href=
        "cache__handler_8c_source.html">cache_handler.c</a>.</p>
      </div>
    </div><a class="anchor" id="gadcf7437ac73ef1b6f4ca75be6dd15070" name="gadcf7437ac73ef1b6f4ca75be6dd15070"></a>
    <!-- doxytag: member="cache_handler.c::netsnmp_cache_reqinfo_insert" ref="gadcf7437ac73ef1b6f4ca75be6dd15070" args="(netsnmp_cache *cache, netsnmp_agent_request_info *reqinfo, const char *name)" -->

    <div class="memitem">
      <div class="memproto">
        <table class="memname">
          <tr>
            <td class="memname">void netsnmp_cache_reqinfo_insert</td>

            <td>(</td>

            <td class="paramtype"><a class="el" href="structnetsnmp__cache__s.html">netsnmp_cache</a> * </td>

            <td class="paramname"><em>cache</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype"><a class="el" href="structnetsnmp__agent__request__info__s.html">netsnmp_agent_request_info</a>
            * </td>

            <td class="paramname"><em>reqinfo</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype">const char * </td>

            <td class="paramname"><em>name</em></td>

            <td> </td>
          </tr>

          <tr>
            <td></td>

            <td>)</td>

            <td></td>

            <td></td>

            <td></td>
          </tr>
        </table>
      </div>

      <div class="memdoc">
        <p>Insert the cache information for a given request (PDU).</p>

        <p>Definition at line <a class="el" href="cache__handler_8c_source.html#l00368">368</a> of file <a class="el" href=
        "cache__handler_8c_source.html">cache_handler.c</a>.</p>
      </div>
    </div><a class="anchor" id="gadf49a3dc1aa486f3336ea7eab3ae7aaa" name="gadf49a3dc1aa486f3336ea7eab3ae7aaa"></a>
    <!-- doxytag: member="cache_handler.c::netsnmp_cache_timer_start" ref="gadf49a3dc1aa486f3336ea7eab3ae7aaa" args="(netsnmp_cache *cache)" -->

    <div class="memitem">
      <div class="memproto">
        <table class="memname">
          <tr>
            <td class="memname">unsigned int netsnmp_cache_timer_start</td>

            <td>(</td>

            <td class="paramtype"><a class="el" href="structnetsnmp__cache__s.html">netsnmp_cache</a> * </td>

            <td class="paramname"><em>cache</em></td>

            <td> ) </td>

            <td></td>
          </tr>
        </table>
      </div>

      <div class="memdoc">
        <p>starts the recurring cache_load callback</p>

        <p>Definition at line <a class="el" href="cache__handler_8c_source.html#l00226">226</a> of file <a class="el" href=
        "cache__handler_8c_source.html">cache_handler.c</a>.</p>
      </div>
    </div><a class="anchor" id="ga2299bbabdc6f2f342404c1e23b9b9ec2" name="ga2299bbabdc6f2f342404c1e23b9b9ec2"></a>
    <!-- doxytag: member="cache_handler.c::netsnmp_cache_timer_stop" ref="ga2299bbabdc6f2f342404c1e23b9b9ec2" args="(netsnmp_cache *cache)" -->

    <div class="memitem">
      <div class="memproto">
        <table class="memname">
          <tr>
            <td class="memname">void netsnmp_cache_timer_stop</td>

            <td>(</td>

            <td class="paramtype"><a class="el" href="structnetsnmp__cache__s.html">netsnmp_cache</a> * </td>

            <td class="paramname"><em>cache</em></td>

            <td> ) </td>

            <td></td>
          </tr>
        </table>
      </div>

      <div class="memdoc">
        <p>stops the recurring cache_load callback</p>

        <p>Definition at line <a class="el" href="cache__handler_8c_source.html#l00261">261</a> of file <a class="el" href=
        "cache__handler_8c_source.html">cache_handler.c</a>.</p>
      </div>
    </div><a class="anchor" id="ga883fcf5b05d6f6cfe40fc1807f57d9dd" name="ga883fcf5b05d6f6cfe40fc1807f57d9dd"></a>
    <!-- doxytag: member="cache_handler.c::netsnmp_extract_cache_info" ref="ga883fcf5b05d6f6cfe40fc1807f57d9dd" args="(netsnmp_agent_request_info *reqinfo)" -->

    <div class="memitem">
      <div class="memproto">
        <table class="memname">
          <tr>
            <td class="memname"><a class="el" href="structnetsnmp__cache__s.html">netsnmp_cache</a>*
            netsnmp_extract_cache_info</td>

            <td>(</td>

            <td class="paramtype"><a class="el" href="structnetsnmp__agent__request__info__s.html">netsnmp_agent_request_info</a>
            * </td>

            <td class="paramname"><em>reqinfo</em></td>

            <td> ) </td>

            <td></td>
          </tr>
        </table>
      </div>

      <div class="memdoc">
        <p>Extract the cache information for a given request (PDU).</p>

        <p>Definition at line <a class="el" href="cache__handler_8c_source.html#l00397">397</a> of file <a class="el" href=
        "cache__handler_8c_source.html">cache_handler.c</a>.</p>
      </div>
    </div><a class="anchor" id="ga3db0915795f05e9852cf5646994824bd" name="ga3db0915795f05e9852cf5646994824bd"></a>
    <!-- doxytag: member="cache_handler.c::netsnmp_get_cache_handler" ref="ga3db0915795f05e9852cf5646994824bd" args="(int timeout, NetsnmpCacheLoad *load_hook, NetsnmpCacheFree *free_hook, const oid *rootoid, int rootoid_len)" -->

    <div class="memitem">
      <div class="memproto">
        <table class="memname">
          <tr>
            <td class="memname"><a class="el" href="structnetsnmp__mib__handler__s.html">netsnmp_mib_handler</a>*
            netsnmp_get_cache_handler</td>

            <td>(</td>

            <td class="paramtype">int </td>

            <td class="paramname"><em>timeout</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype">NetsnmpCacheLoad * </td>

            <td class="paramname"><em>load_hook</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype">NetsnmpCacheFree * </td>

            <td class="paramname"><em>free_hook</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype">const oid * </td>

            <td class="paramname"><em>rootoid</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype">int </td>

            <td class="paramname"><em>rootoid_len</em></td>

            <td> </td>
          </tr>

          <tr>
            <td></td>

            <td>)</td>

            <td></td>

            <td></td>

            <td></td>
          </tr>
        </table>
      </div>

      <div class="memdoc">
        <p>returns a cache handler that can be injected into a given handler chain.</p>

        <p>Definition at line <a class="el" href="cache__handler_8c_source.html#l00311">311</a> of file <a class="el" href=
        "cache__handler_8c_source.html">cache_handler.c</a>.</p>
      </div>
    </div><a class="anchor" id="ga8ea1279d37397441c87f8f1d8146e24f" name="ga8ea1279d37397441c87f8f1d8146e24f"></a>
    <!-- doxytag: member="cache_handler.c::netsnmp_is_cache_valid" ref="ga8ea1279d37397441c87f8f1d8146e24f" args="(netsnmp_agent_request_info *reqinfo)" -->

    <div class="memitem">
      <div class="memproto">
        <table class="memname">
          <tr>
            <td class="memname">int netsnmp_is_cache_valid</td>

            <td>(</td>

            <td class="paramtype"><a class="el" href="structnetsnmp__agent__request__info__s.html">netsnmp_agent_request_info</a>
            * </td>

            <td class="paramname"><em>reqinfo</em></td>

            <td> ) </td>

            <td></td>
          </tr>
        </table>
      </div>

      <div class="memdoc">
        <p>Is the cache valid for a given request? for backwards compatability.</p>

        <p>for backwards compat</p>

        <p><a class="el" href="group__cache__handler.html#gabda646537990048988842a9c9f46c839" title=
        "Is the cache valid for a given request?">netsnmp_cache_is_valid()</a> is preferred.</p>

        <p>Definition at line <a class="el" href="cache__handler_8c_source.html#l00448">448</a> of file <a class="el" href=
        "cache__handler_8c_source.html">cache_handler.c</a>.</p>
      </div>
    </div><a class="anchor" id="gab206126ebd47097c0543c848dbdc8f10" name="gab206126ebd47097c0543c848dbdc8f10"></a>
    <!-- doxytag: member="cache_handler.c::netsnmp_register_cache_handler" ref="gab206126ebd47097c0543c848dbdc8f10" args="(netsnmp_handler_registration *reginfo, int timeout, NetsnmpCacheLoad *load_hook, NetsnmpCacheFree *free_hook)" -->

    <div class="memitem">
      <div class="memproto">
        <table class="memname">
          <tr>
            <td class="memname">int netsnmp_register_cache_handler</td>

            <td>(</td>

            <td class="paramtype"><a class="el" href=
            "structnetsnmp__handler__registration__s.html">netsnmp_handler_registration</a> * </td>

            <td class="paramname"><em>reginfo</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype">int </td>

            <td class="paramname"><em>timeout</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype">NetsnmpCacheLoad * </td>

            <td class="paramname"><em>load_hook</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype">NetsnmpCacheFree * </td>

            <td class="paramname"><em>free_hook</em></td>

            <td> </td>
          </tr>

          <tr>
            <td></td>

            <td>)</td>

            <td></td>

            <td></td>

            <td></td>
          </tr>
        </table>
      </div>

      <div class="memdoc">
        <p>functionally the same as calling <a class="el" href="group__handler.html#gacdbdb9d74898a5bf04b0992ea0316aa4" title=
        "register a handler, as defined by the netsnmp_handler_registration pointer.">netsnmp_register_handler()</a> but also
        injects a cache handler at the same time for you.</p>

        <p>Definition at line <a class="el" href="cache__handler_8c_source.html#l00343">343</a> of file <a class="el" href=
        "cache__handler_8c_source.html">cache_handler.c</a>.</p>
      </div>
    </div><a class="anchor" id="ga53067321af0f0fbb96dd8626bcbed94f" name="ga53067321af0f0fbb96dd8626bcbed94f"></a>
    <!-- doxytag: member="cache_handler.c::release_cached_resources" ref="ga53067321af0f0fbb96dd8626bcbed94f" args="(unsigned int regNo, void *clientargs)" -->

    <div class="memitem">
      <div class="memproto">
        <table class="memname">
          <tr>
            <td class="memname">void release_cached_resources</td>

            <td>(</td>

            <td class="paramtype">unsigned int </td>

            <td class="paramname"><em>regNo</em>,</td>
          </tr>

          <tr>
            <td class="paramkey"></td>

            <td></td>

            <td class="paramtype">void * </td>

            <td class="paramname"><em>clientargs</em></td>

            <td> </td>
          </tr>

          <tr>
            <td></td>

            <td>)</td>

            <td></td>

            <td></td>

            <td></td>
          </tr>
        </table>
      </div>

      <div class="memdoc">
        <p>run regularly to automatically release cached resources.</p>

        <p>xxx - method to prevent cache from expiring while a request is being processed (e.g. delegated request). proposal: set
        a flag, which would be cleared when request finished (which could be acomplished by a dummy data list item in agent req
        info &amp; custom free function).</p>

        <p>Definition at line <a class="el" href="cache__handler_8c_source.html#l00608">608</a> of file <a class="el" href=
        "cache__handler_8c_source.html">cache_handler.c</a>.</p>
      </div>
    </div>
  </div>
  <hr size="1" />

  <address style="text-align: right;">
    <small>Generated on 28 Sep 2009 for net-snmp by  <a href="http://www.doxygen.org/index.html"><img class="footer" src=
    "doxygen.png" alt="doxygen" /></a> 1.6.1</small>
<!-- CONTENT END -->
<!--#include virtual="/page-bottom.html" -->

