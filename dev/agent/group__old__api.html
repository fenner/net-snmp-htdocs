<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>net-snmp: old_api</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">net-snmp&#160;<span id="projectnumber">5.7</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">old_api</div>  </div>
<div class="ingroups"><a class="el" href="group__handler.html">Net-SNMP Agent handler and extensibility API</a></div></div>
<div class="contents">

<p>Calls mib module code written in the old style of code.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnetsnmp__mib__handler__s.html">netsnmp_mib_handler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__old__api.html#ga9d822a29b746f5cab0971996aeafe2d4">get_old_api_handler</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">returns a old_api handler that should be the final calling handler.  <a href="#ga9d822a29b746f5cab0971996aeafe2d4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structvariable.html">variable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__old__api.html#gaf154cb4bb05a6d58e8bd7974ff557288">netsnmp_duplicate_variable</a> (struct <a class="el" href="structvariable.html">variable</a> *var)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Duplicates a variable.  <a href="#gaf154cb4bb05a6d58e8bd7974ff557288"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__old__api.html#gade4b0ada1895dba2bf4338a3a7afa1c2">netsnmp_register_old_api</a> (const char *moduleName, struct <a class="el" href="structvariable.html">variable</a> *var, size_t varsize, size_t numvars, const oid *mibloc, size_t mibloclen, int priority, int range_subid, oid range_ubound, <a class="el" href="structsnmp__session.html">netsnmp_session</a> *ss, const char *context, int timeout, int flags)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers an old API set into the mib tree.  <a href="#gade4b0ada1895dba2bf4338a3a7afa1c2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__old__api.html#gaaccfd7b90c486fad9a7a44d69144b9da">netsnmp_register_mib_table_row</a> (const char *moduleName, struct <a class="el" href="structvariable.html">variable</a> *var, size_t varsize, size_t numvars, oid *mibloc, size_t mibloclen, int priority, int var_subid, <a class="el" href="structsnmp__session.html">netsnmp_session</a> *ss, const char *context, int timeout, int flags)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">registers a row within a mib table  <a href="#gaaccfd7b90c486fad9a7a44d69144b9da"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__old__api.html#gaf7aa306da4b56fd5a66b11016517c5ba">netsnmp_old_api_helper</a> (<a class="el" href="structnetsnmp__mib__handler__s.html">netsnmp_mib_handler</a> *handler, <a class="el" href="structnetsnmp__handler__registration__s.html">netsnmp_handler_registration</a> *reginfo, <a class="el" href="structnetsnmp__agent__request__info__s.html">netsnmp_agent_request_info</a> *reqinfo, <a class="el" href="structnetsnmp__request__info__s.html">netsnmp_request_info</a> *requests)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">implements the old_api handler  <a href="#gaf7aa306da4b56fd5a66b11016517c5ba"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>Calls mib module code written in the old style of code. </p>
<p>This is a backwards compatilibity module that allows code written in the old API to be run under the new handler based architecture. Use it by calling <a class="el" href="group__old__api.html#gade4b0ada1895dba2bf4338a3a7afa1c2" title="Registers an old API set into the mib tree.">netsnmp_register_old_api()</a>. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga9d822a29b746f5cab0971996aeafe2d4"></a><!-- doxytag: member="old_api.c::get_old_api_handler" ref="ga9d822a29b746f5cab0971996aeafe2d4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnetsnmp__mib__handler__s.html">netsnmp_mib_handler</a>* get_old_api_handler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>returns a old_api handler that should be the final calling handler. </p>
<p>Don't use this function. Use the <a class="el" href="group__old__api.html#gade4b0ada1895dba2bf4338a3a7afa1c2" title="Registers an old API set into the mib tree.">netsnmp_register_old_api()</a> function instead. </p>

<p>Definition at line <a class="el" href="old__api_8c_source.html#l00049">49</a> of file <a class="el" href="old__api_8c_source.html">old_api.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaf154cb4bb05a6d58e8bd7974ff557288"></a><!-- doxytag: member="old_api.c::netsnmp_duplicate_variable" ref="gaf154cb4bb05a6d58e8bd7974ff557288" args="(struct variable *var)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structvariable.html">variable</a>* netsnmp_duplicate_variable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvariable.html">variable</a> *&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Duplicates a variable. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to the duplicate variable upon success; NULL upon failure.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>struct <a class="el" href="structvariable.html">variable</a> </dd>
<dd>
struct <a class="el" href="structvariable1.html">variable1</a> </dd>
<dd>
struct <a class="el" href="structvariable2.html">variable2</a> </dd>
<dd>
struct <a class="el" href="structvariable3.html">variable3</a> </dd>
<dd>
struct <a class="el" href="structvariable4.html">variable4</a> </dd>
<dd>
struct <a class="el" href="structvariable7.html">variable7</a> </dd>
<dd>
struct <a class="el" href="structvariable8.html">variable8</a> </dd>
<dd>
struct <a class="el" href="structvariable13.html">variable13</a> </dd></dl>

<p>Definition at line <a class="el" href="old__api_8c_source.html#l00055">55</a> of file <a class="el" href="old__api_8c_source.html">old_api.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaf7aa306da4b56fd5a66b11016517c5ba"></a><!-- doxytag: member="old_api.c::netsnmp_old_api_helper" ref="gaf7aa306da4b56fd5a66b11016517c5ba" args="(netsnmp_mib_handler *handler, netsnmp_handler_registration *reginfo, netsnmp_agent_request_info *reqinfo, netsnmp_request_info *requests)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int netsnmp_old_api_helper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetsnmp__mib__handler__s.html">netsnmp_mib_handler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnetsnmp__handler__registration__s.html">netsnmp_handler_registration</a> *&#160;</td>
          <td class="paramname"><em>reginfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnetsnmp__agent__request__info__s.html">netsnmp_agent_request_info</a> *&#160;</td>
          <td class="paramname"><em>reqinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnetsnmp__request__info__s.html">netsnmp_request_info</a> *&#160;</td>
          <td class="paramname"><em>requests</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>implements the old_api handler </p>

<p>Definition at line <a class="el" href="old__api_8c_source.html#l00258">258</a> of file <a class="el" href="old__api_8c_source.html">old_api.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaaccfd7b90c486fad9a7a44d69144b9da"></a><!-- doxytag: member="old_api.c::netsnmp_register_mib_table_row" ref="gaaccfd7b90c486fad9a7a44d69144b9da" args="(const char *moduleName, struct variable *var, size_t varsize, size_t numvars, oid *mibloc, size_t mibloclen, int priority, int var_subid, netsnmp_session *ss, const char *context, int timeout, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int netsnmp_register_mib_table_row </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>moduleName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structvariable.html">variable</a> *&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>varsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numvars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">oid *&#160;</td>
          <td class="paramname"><em>mibloc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>mibloclen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>var_subid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsnmp__session.html">netsnmp_session</a> *&#160;</td>
          <td class="paramname"><em>ss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>registers a row within a mib table </p>

<p>Definition at line <a class="el" href="old__api_8c_source.html#l00138">138</a> of file <a class="el" href="old__api_8c_source.html">old_api.c</a>.</p>

</div>
</div>
<a class="anchor" id="gade4b0ada1895dba2bf4338a3a7afa1c2"></a><!-- doxytag: member="old_api.c::netsnmp_register_old_api" ref="gade4b0ada1895dba2bf4338a3a7afa1c2" args="(const char *moduleName, struct variable *var, size_t varsize, size_t numvars, const oid *mibloc, size_t mibloclen, int priority, int range_subid, oid range_ubound, netsnmp_session *ss, const char *context, int timeout, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int netsnmp_register_old_api </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>moduleName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structvariable.html">variable</a> *&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>varsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numvars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const oid *&#160;</td>
          <td class="paramname"><em>mibloc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>mibloclen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>range_subid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">oid&#160;</td>
          <td class="paramname"><em>range_ubound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsnmp__session.html">netsnmp_session</a> *&#160;</td>
          <td class="paramname"><em>ss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Registers an old API set into the mib tree. </p>
<p>Functionally this mimics the old <a class="el" href="group__agent__mib__registering.html#gacbd76661a556322a249967447ff67707" title="Register a new module into the MIB database, with all possible custom options.">register_mib_context()</a> function (and in fact the new <a class="el" href="group__agent__mib__registering.html#gacbd76661a556322a249967447ff67707" title="Register a new module into the MIB database, with all possible custom options.">register_mib_context()</a> function merely calls this new old_api one). </p>

<p><p>netsnmp_handler_registration_free(reginfo); already freed </p>
</p>

<p>Definition at line <a class="el" href="old__api_8c_source.html#l00073">73</a> of file <a class="el" href="old__api_8c_source.html">old_api.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Jul 14 2011 for net-snmp by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
